  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "email" varchar, "password_digest" varchar, "role" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250308182627)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-08 19:23:04.715680', '2025-03-08 19:23:04.715681') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (1.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '35b879a4d14756c164e8e8a066fb88daf7dd0f1a', '2025-03-08 19:23:04.719487', '2025-03-08 19:23:04.719487') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (8.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-03-08 19:23:04.762763', '2025-03-08 19:23:04.762763'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-03-08 19:23:04.762763', '2025-03-08 19:23:04.762763')[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
AdminTest: test_should_save_admin_with_valid_attributes
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.1ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Test Admin"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["role", "superadmin"], ["created_at", "2025-03-08 19:23:04.809503"], ["updated_at", "2025-03-08 19:23:04.809503"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
AdminTest: test_should_not_save_admin_without_email
---------------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.7ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-03-25 19:37:16.644002', '2025-03-25 19:37:16.644002'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-03-25 19:37:16.644002', '2025-03-25 19:37:16.644002');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-03-25 19:37:16.646268', '2025-03-25 19:37:16.646268'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-03-25 19:37:16.646268', '2025-03-25 19:37:16.646268');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$zw9TenYAeutup0opF3gUWelIpNPgOWjB2wzQ9bx5TGy0Osucni1B2', 60, '2025-03-25 19:37:16.651935', '2025-03-25 19:37:16.651935'), (298486374, 'two@student.com', 'Student Two', '$2a$12$fXp8Guvpvpu0LHhDOg.W8uAvNqRYQyYzpJUw8VCNEl/UKIq2mLb/e', 100, '2025-03-25 19:37:16.651935', '2025-03-25 19:37:16.651935');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at") VALUES (980190962, 980190962, 101, 'active', '2025-03-25 19:37:16.656286', '2025-03-25 19:37:16.656286'), (298486374, 298486374, 102, 'Inactive', '2025-03-25 19:37:16.656286', '2025-03-25 19:37:16.656286')[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-03-25 15:37:16 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 12.3ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 20.1ms | GC: 0.8ms)
Completed 200 OK in 37ms (Views: 22.6ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 2.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-03-25 15:37:16 -0400
Processing by StudentsController#update as HTML
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-03-25 19:37:16.834212"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students/980190962
Completed 302 Found in 14ms (ActiveRecord: 0.4ms (3 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-03-25 15:37:16 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-03-25 19:37:16.851927"], ["updated_at", "2025-03-25 19:37:16.851927"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students/980190963
Completed 302 Found in 7ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 2.9ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY "students"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-03-25 15:37:16 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.1ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 1.3ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-03-25 15:37:16 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 7.3ms | GC: 4.7ms)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | GC: 4.8ms)
Completed 200 OK in 10ms (Views: 9.5ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 4.8ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 203], ["class_name", "Computer Networks"], ["professor", "Dr. Adams"], ["term", "Spring 2024"], ["credits", 4], ["class_time", "2000-01-01 19:00:00"], ["created_at", "2025-03-25 19:37:16.915963"], ["updated_at", "2025-03-25 19:37:16.915963"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-03-25 15:37:16 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "MWF 10:00 AM"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-03-25 19:37:16.931017"], ["updated_at", "2025-03-25 19:37:16.931017"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/courses/123456
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" ORDER BY "courses"."CRN" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-03-25 15:37:16 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.2ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/courses
Completed 302 Found in 15ms (ActiveRecord: 0.5ms (5 queries, 0 cached) | GC: 0.2ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-03-25 15:37:16 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-03-25 19:37:16.961085"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/courses/101
Completed 302 Found in 12ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-03-25 19:37:16.976277"], ["updated_at", "2025-03-25 19:37:16.976277"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-03-25 19:37:16.979854"], ["updated_at", "2025-03-25 19:37:16.979854"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.6ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-03-25 19:37:16.981089"], ["updated_at", "2025-03-25 19:37:16.981089"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-03-25 19:37:16.985100"], ["updated_at", "2025-03-25 19:37:16.985100"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-03-25 19:37:16.990599"], ["updated_at", "2025-03-25 19:37:16.990599"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.2ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-03-25 19:37:16.992783"], ["updated_at", "2025-03-25 19:37:16.992783"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-03-25 19:37:16.998179"], ["updated_at", "2025-03-25 19:37:16.998179"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-03-25 19:37:16.999628"], ["updated_at", "2025-03-25 19:37:16.999628"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-03-25 19:37:17.000158"], ["updated_at", "2025-03-25 19:37:17.000158"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-03-25 19:37:17.007513"], ["updated_at", "2025-03-25 19:37:17.007513"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-03-25 19:37:17.013673"], ["updated_at", "2025-03-25 19:37:17.013673"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-03-25 19:37:17.017036"], ["updated_at", "2025-03-25 19:37:17.017036"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
ScheduleViewControllerTest: test_should_create_user_schedule
------------------------------------------------------------
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/schedule_view" for 127.0.0.1 at 2025-03-25 15:37:17 -0400
Processing by ScheduleViewController#create as HTML
  Parameters: {"course_id" => "102"}
  [1m[36mStudent Load (0.9ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY "students"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 298486374], ["course_id", 102], ["status", nil], ["created_at", "2025-03-25 19:37:17.028125"], ["updated_at", "2025-03-25 19:37:17.028125"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/schedule_view
Completed 302 Found in 7ms (ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
ScheduleViewControllerTest: test_should_destroy_user_schedule
-------------------------------------------------------------
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started DELETE "/schedule_view/980190962" for 127.0.0.1 at 2025-03-25 15:37:17 -0400
Processing by ScheduleViewController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/schedule_view
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
Started GET "/schedule_view" for 127.0.0.1 at 2025-03-25 15:37:17 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY "students"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" ORDER BY "courses"."CRN" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 298486374]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 102]]
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 5.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.1ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-05 19:35:05.088993', '2025-04-05 19:35:05.088993'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-05 19:35:05.088993', '2025-04-05 19:35:05.088993');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-05 19:35:05.090658', '2025-04-05 19:35:05.090658', NULL, NULL, NULL), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-05 19:35:05.090658', '2025-04-05 19:35:05.090658', NULL, NULL, NULL);
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$aJstaZmJ9JXWMlYRZZGB8u1NL1R5ds4E5JajtwbHZAKkfvqD891CW', 60, '2025-04-05 19:35:05.091428', '2025-04-05 19:35:05.091428', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$Rhz0eaxddfSO8pwulaFZVOx0.Z9cslYPvtBmun1X/jM56yF.NJWqu', 100, '2025-04-05 19:35:05.091428', '2025-04-05 19:35:05.091428', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-05 19:35:05.092398', '2025-04-05 19:35:05.092398', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-05 19:35:05.092398', '2025-04-05 19:35:05.092398', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-05 15:35:05 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 12.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 32.9ms | GC: 0.0ms)
Completed 200 OK in 69ms (Views: 43.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/students" for 127.0.0.1 at 2025-04-05 15:35:05 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-05 19:35:05.876558"], ["updated_at", "2025-04-05 19:35:05.876558"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 23ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-05 15:35:05 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 14.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 14.9ms | GC: 0.0ms)
Completed 200 OK in 20ms (Views: 18.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-05 19:37:46.026704', '2025-04-05 19:37:46.026704'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-05 19:37:46.026704', '2025-04-05 19:37:46.026704');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-05 19:37:46.029397', '2025-04-05 19:37:46.029397', NULL, NULL, NULL), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-05 19:37:46.029397', '2025-04-05 19:37:46.029397', NULL, NULL, NULL);
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$h9vYlRwSg9SZlyf6zX6.5OprBYuvMOJJJXX8kpLyu8BUEei.lB70W', 60, '2025-04-05 19:37:46.030174', '2025-04-05 19:37:46.030174', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$796KJ1jI1Q48Zq3n5n0fq.ESbwXBPun4pVeX1j1IXODuJSV81j66S', 100, '2025-04-05 19:37:46.030174', '2025-04-05 19:37:46.030174', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-05 19:37:46.031283', '2025-04-05 19:37:46.031283', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-05 19:37:46.031283', '2025-04-05 19:37:46.031283', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-05 15:37:46 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 13.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 45.9ms | GC: 0.0ms)
Completed 200 OK in 102ms (Views: 67.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/students" for 127.0.0.1 at 2025-04-05 15:37:46 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.2ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-05 19:37:46.531147"], ["updated_at", "2025-04-05 19:37:46.531147"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 34ms (ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-05 15:37:46 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 21.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 22.5ms | GC: 0.0ms)
Completed 200 OK in 29ms (Views: 27.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.8ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-05 19:45:23.416011', '2025-04-05 19:45:23.416011'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-05 19:45:23.416011', '2025-04-05 19:45:23.416011');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-05 19:45:23.417585', '2025-04-05 19:45:23.417585', NULL, NULL, NULL), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-05 19:45:23.417585', '2025-04-05 19:45:23.417585', NULL, NULL, NULL);
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$e66PBtvfjmdVoX3CzlwXf.74Y6PgQQ39mv/V1PdjrQGLpQ9/xYPT.', 60, '2025-04-05 19:45:23.418374', '2025-04-05 19:45:23.418374', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$fanC0ENhGeN.T9UOcQtGf.Ra2QYavbSG9.tCu4VVfn7DC2Yr.k.CC', 100, '2025-04-05 19:45:23.418374', '2025-04-05 19:45:23.418374', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-05 19:45:23.419474', '2025-04-05 19:45:23.419474', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-05 19:45:23.419474', '2025-04-05 19:45:23.419474', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
UserSignupTest: test_user_can_sign_up_successfully
--------------------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-05 15:45:31 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 133.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 372.2ms | GC: 0.0ms)
Completed 200 OK in 775ms (Views: 478.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/application-8b441ae0.css" for 127.0.0.1 at 2025-04-05 15:45:32 -0400
Started GET "/assets/application-e92a05ba.js" for 127.0.0.1 at 2025-04-05 15:45:32 -0400
Started GET "/assets/signup-08adf3cf.css" for 127.0.0.1 at 2025-04-05 15:45:32 -0400
Started GET "/assets/turbo.min-1262d735.js" for 127.0.0.1 at 2025-04-05 15:45:32 -0400
Started GET "/assets/controllers/hello_controller-708796bd.js" for 127.0.0.1 at 2025-04-05 15:45:32 -0400
Started GET "/assets/controllers/index-ee64e1f1.js" for 127.0.0.1 at 2025-04-05 15:45:32 -0400
Started GET "/assets/controllers/application-3affb389.js" for 127.0.0.1 at 2025-04-05 15:45:32 -0400
Started GET "/assets/stimulus.min-4b1e420e.js" for 127.0.0.1 at 2025-04-05 15:45:32 -0400
Started GET "/assets/stimulus-loading-1fc53fe7.js" for 127.0.0.1 at 2025-04-05 15:45:32 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-05 19:48:39.851350', '2025-04-05 19:48:39.851350'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-05 19:48:39.851350', '2025-04-05 19:48:39.851350');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-05 19:48:39.852941', '2025-04-05 19:48:39.852941', NULL, NULL, NULL), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-05 19:48:39.852941', '2025-04-05 19:48:39.852941', NULL, NULL, NULL);
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$0D83d3zzLKk5rA3GHwPdLOo9wp0KRusSneXxd3ZJDkfHQaUHjmMci', 60, '2025-04-05 19:48:39.853701', '2025-04-05 19:48:39.853701', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$htJHuAxweI2RlMsqKl.t2.5203Hi/LQKgD8ytCCVEDnCawQecYG9K', 100, '2025-04-05 19:48:39.853701', '2025-04-05 19:48:39.853701', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-05 19:48:39.854716', '2025-04-05 19:48:39.854716', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-05 19:48:39.854716', '2025-04-05 19:48:39.854716', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
UserSignupTest: test_user_can_sign_up_successfully
--------------------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-05 15:48:44 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 9.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 28.6ms | GC: 0.0ms)
Completed 200 OK in 63ms (Views: 41.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/application-8b441ae0.css" for 127.0.0.1 at 2025-04-05 15:48:44 -0400
Started GET "/assets/application-e92a05ba.js" for 127.0.0.1 at 2025-04-05 15:48:44 -0400
Started GET "/assets/signup-08adf3cf.css" for 127.0.0.1 at 2025-04-05 15:48:44 -0400
Started GET "/assets/controllers/hello_controller-708796bd.js" for 127.0.0.1 at 2025-04-05 15:48:44 -0400
Started GET "/assets/controllers/application-3affb389.js" for 127.0.0.1 at 2025-04-05 15:48:44 -0400
Started GET "/assets/controllers/index-ee64e1f1.js" for 127.0.0.1 at 2025-04-05 15:48:44 -0400
Started GET "/assets/turbo.min-1262d735.js" for 127.0.0.1 at 2025-04-05 15:48:44 -0400
Started GET "/assets/stimulus.min-4b1e420e.js" for 127.0.0.1 at 2025-04-05 15:48:44 -0400
Started GET "/assets/stimulus-loading-1fc53fe7.js" for 127.0.0.1 at 2025-04-05 15:48:44 -0400
Started POST "/students" for 127.0.0.1 at 2025-04-05 15:48:45 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "major" => "Computer Science", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]"}, "commit" => "Sign Up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.2ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-05 19:48:45.866394"], ["updated_at", "2025-04-05 19:48:45.866394"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:53215/
Completed 302 Found in 180ms (ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-05 15:48:45 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 173.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 176.7ms | GC: 0.0ms)
Completed 200 OK in 209ms (Views: 183.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/LogoWithCircle-81fac526.png" for 127.0.0.1 at 2025-04-05 15:48:46 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-05 19:49:24.946614', '2025-04-05 19:49:24.946614'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-05 19:49:24.946614', '2025-04-05 19:49:24.946614');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-05 19:49:24.951003', '2025-04-05 19:49:24.951003', NULL, NULL, NULL), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-05 19:49:24.951003', '2025-04-05 19:49:24.951003', NULL, NULL, NULL);
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$2rAQNgIx9nBsONkUHmK7RekCOLAgMmxnCrvd.24wuGDYmjmNvlNJ2', 60, '2025-04-05 19:49:24.952477', '2025-04-05 19:49:24.952477', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$3hbCgyVz2B7MG797jL6ojOvjIVK9gJ3.b.N5S3uCwXFQs96ns30z6', 100, '2025-04-05 19:49:24.952477', '2025-04-05 19:49:24.952477', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-05 19:49:24.954094', '2025-04-05 19:49:24.954094', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-05 19:49:24.954094', '2025-04-05 19:49:24.954094', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
UserSignupTest: test_user_can_sign_up_successfully
--------------------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-05 15:49:29 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 12.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 47.2ms | GC: 0.0ms)
Completed 200 OK in 103ms (Views: 65.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/application-8b441ae0.css" for 127.0.0.1 at 2025-04-05 15:49:29 -0400
Started GET "/assets/signup-08adf3cf.css" for 127.0.0.1 at 2025-04-05 15:49:29 -0400
Started GET "/assets/application-e92a05ba.js" for 127.0.0.1 at 2025-04-05 15:49:29 -0400
Started GET "/assets/controllers/index-ee64e1f1.js" for 127.0.0.1 at 2025-04-05 15:49:30 -0400
Started GET "/assets/controllers/hello_controller-708796bd.js" for 127.0.0.1 at 2025-04-05 15:49:30 -0400
Started GET "/assets/controllers/application-3affb389.js" for 127.0.0.1 at 2025-04-05 15:49:30 -0400
Started GET "/assets/stimulus.min-4b1e420e.js" for 127.0.0.1 at 2025-04-05 15:49:30 -0400
Started GET "/assets/turbo.min-1262d735.js" for 127.0.0.1 at 2025-04-05 15:49:30 -0400
Started GET "/assets/stimulus-loading-1fc53fe7.js" for 127.0.0.1 at 2025-04-05 15:49:30 -0400
Started POST "/students" for 127.0.0.1 at 2025-04-05 15:49:31 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "major" => "Computer Science", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]"}, "commit" => "Sign Up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-05 19:49:31.357903"], ["updated_at", "2025-04-05 19:49:31.357903"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:53239/
Completed 302 Found in 25ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-05 15:49:31 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 12.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | GC: 0.0ms)
Completed 200 OK in 19ms (Views: 17.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/LogoWithCircle-81fac526.png" for 127.0.0.1 at 2025-04-05 15:49:31 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (1.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-05 19:49:46.099818', '2025-04-05 19:49:46.099818'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-05 19:49:46.099818', '2025-04-05 19:49:46.099818');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-05 19:49:46.101462', '2025-04-05 19:49:46.101462', NULL, NULL, NULL), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-05 19:49:46.101462', '2025-04-05 19:49:46.101462', NULL, NULL, NULL);
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$Mx7sN65I7/zuvkwat91O7ePYbC8FYCb2sUMYnObYcGOnsKuvPsxVi', 60, '2025-04-05 19:49:46.102199', '2025-04-05 19:49:46.102199', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$tikyTTbYnLf78kIIv9aViuuAO4lPNZ9lDq6q0SNLb16oijfNexlum', 100, '2025-04-05 19:49:46.102199', '2025-04-05 19:49:46.102199', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-05 19:49:46.103084', '2025-04-05 19:49:46.103084', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-05 19:49:46.103084', '2025-04-05 19:49:46.103084', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
UserSignupTest: test_user_can_sign_up_successfully
--------------------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-05 15:49:50 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 8.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 33.4ms | GC: 0.0ms)
Completed 200 OK in 68ms (Views: 43.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/application-8b441ae0.css" for 127.0.0.1 at 2025-04-05 15:49:50 -0400
Started GET "/assets/application-e92a05ba.js" for 127.0.0.1 at 2025-04-05 15:49:50 -0400
Started GET "/assets/signup-08adf3cf.css" for 127.0.0.1 at 2025-04-05 15:49:50 -0400
Started GET "/assets/turbo.min-1262d735.js" for 127.0.0.1 at 2025-04-05 15:49:50 -0400
Started GET "/assets/controllers/application-3affb389.js" for 127.0.0.1 at 2025-04-05 15:49:50 -0400
Started GET "/assets/controllers/hello_controller-708796bd.js" for 127.0.0.1 at 2025-04-05 15:49:50 -0400
Started GET "/assets/controllers/index-ee64e1f1.js" for 127.0.0.1 at 2025-04-05 15:49:50 -0400
Started GET "/assets/stimulus.min-4b1e420e.js" for 127.0.0.1 at 2025-04-05 15:49:51 -0400
Started GET "/assets/stimulus-loading-1fc53fe7.js" for 127.0.0.1 at 2025-04-05 15:49:51 -0400
Started POST "/students" for 127.0.0.1 at 2025-04-05 15:49:52 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "major" => "Computer Science", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]"}, "commit" => "Sign Up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.3ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-05 19:49:52.043157"], ["updated_at", "2025-04-05 19:49:52.043157"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:53262/
Completed 302 Found in 27ms (ActiveRecord: 1.1ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-05 15:49:52 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 14.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 14.7ms | GC: 0.0ms)
Completed 200 OK in 22ms (Views: 19.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/LogoWithCircle-81fac526.png" for 127.0.0.1 at 2025-04-05 15:49:52 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-05 19:50:30.023445', '2025-04-05 19:50:30.023445'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-05 19:50:30.023445', '2025-04-05 19:50:30.023445');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-05 19:50:30.024984', '2025-04-05 19:50:30.024984', NULL, NULL, NULL), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-05 19:50:30.024984', '2025-04-05 19:50:30.024984', NULL, NULL, NULL);
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$QgziXWJnsqIre./9PjykguxmhKJsuLKdlnF4XIU2lIdlYcdNQSjvy', 60, '2025-04-05 19:50:30.025734', '2025-04-05 19:50:30.025734', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$bBvkoIri09lTfivHGZEIkOkCryRjqQ3GAD9.3.XWqUfj820mghImG', 100, '2025-04-05 19:50:30.025734', '2025-04-05 19:50:30.025734', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-05 19:50:30.026653', '2025-04-05 19:50:30.026653', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-05 19:50:30.026653', '2025-04-05 19:50:30.026653', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
UserSignupTest: test_user_can_sign_up_successfully
--------------------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-05 15:50:34 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 9.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 32.7ms | GC: 0.0ms)
Completed 200 OK in 67ms (Views: 43.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/application-8b441ae0.css" for 127.0.0.1 at 2025-04-05 15:50:34 -0400
Started GET "/assets/signup-08adf3cf.css" for 127.0.0.1 at 2025-04-05 15:50:34 -0400
Started GET "/assets/turbo.min-1262d735.js" for 127.0.0.1 at 2025-04-05 15:50:34 -0400
Started GET "/assets/application-e92a05ba.js" for 127.0.0.1 at 2025-04-05 15:50:34 -0400
Started GET "/assets/controllers/index-ee64e1f1.js" for 127.0.0.1 at 2025-04-05 15:50:34 -0400
Started GET "/assets/controllers/application-3affb389.js" for 127.0.0.1 at 2025-04-05 15:50:34 -0400
Started GET "/assets/controllers/hello_controller-708796bd.js" for 127.0.0.1 at 2025-04-05 15:50:34 -0400
Started GET "/assets/stimulus.min-4b1e420e.js" for 127.0.0.1 at 2025-04-05 15:50:34 -0400
Started GET "/assets/stimulus-loading-1fc53fe7.js" for 127.0.0.1 at 2025-04-05 15:50:35 -0400
Started POST "/students" for 127.0.0.1 at 2025-04-05 15:50:35 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "major" => "Computer Science", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]"}, "commit" => "Sign Up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.2ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-05 19:50:35.877244"], ["updated_at", "2025-04-05 19:50:35.877244"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:53286/
Completed 302 Found in 21ms (ActiveRecord: 1.7ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-05 15:50:35 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 12.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | GC: 0.0ms)
Completed 200 OK in 21ms (Views: 19.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/LogoWithCircle-81fac526.png" for 127.0.0.1 at 2025-04-05 15:50:35 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-05 19:51:31.615407', '2025-04-05 19:51:31.615407'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-05 19:51:31.615407', '2025-04-05 19:51:31.615407');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-05 19:51:31.619539', '2025-04-05 19:51:31.619539', NULL, NULL, NULL), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-05 19:51:31.619539', '2025-04-05 19:51:31.619539', NULL, NULL, NULL);
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$Ot.D7DlPRxP6JRUhCeXLUuEC7ws5m3ZIBEXZcYtpjRc5XUEwxnSPS', 60, '2025-04-05 19:51:31.620506', '2025-04-05 19:51:31.620506', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$mo6hrK.DTnr8C48FNkDqWuuPG5.Vpeczqw72T8AeVqFTEZ3NHihxO', 100, '2025-04-05 19:51:31.620506', '2025-04-05 19:51:31.620506', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-05 19:51:31.621696', '2025-04-05 19:51:31.621696', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-05 19:51:31.621696', '2025-04-05 19:51:31.621696', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-05 15:51:32 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 15.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 37.8ms | GC: 0.0ms)
Completed 200 OK in 80ms (Views: 50.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/students" for 127.0.0.1 at 2025-04-05 15:51:32 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.2ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-05 19:51:32.383019"], ["updated_at", "2025-04-05 19:51:32.383019"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-05 15:51:32 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 19.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 20.1ms | GC: 0.0ms)
Completed 200 OK in 26ms (Views: 24.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.8ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.8ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:05:48.569205', '2025-04-06 21:05:48.569205'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:05:48.569205', '2025-04-06 21:05:48.569205');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 21:05:48.571416', '2025-04-06 21:05:48.571416', NULL, NULL, NULL), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 21:05:48.571416', '2025-04-06 21:05:48.571416', NULL, NULL, NULL);
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$6Gk6Kz13ytd1d.9ClhlyHOGPMVuxwPbo83tMGlYHADITAOxPMyxqC', 60, '2025-04-06 21:05:48.577153', '2025-04-06 21:05:48.577153', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$1SW3qBvdoKCGpPSQCO7fMeoXs9xFwlLqP86081Sv/vKlp6VKt.8t.', 100, '2025-04-06 21:05:48.577153', '2025-04-06 21:05:48.577153', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 21:05:48.582683', '2025-04-06 21:05:48.582683', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 21:05:48.582683', '2025-04-06 21:05:48.582683', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 17:05:48 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 33ms (ActiveRecord: 0.7ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 17:05:48 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering courses/edit.html.erb within layouts/application
  Rendered courses/edit.html.erb within layouts/application (Duration: 20.3ms | GC: 12.6ms)
  Rendered layout layouts/application.html.erb (Duration: 20.9ms | GC: 12.6ms)
Completed 500 Internal Server Error in 38ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 12.6ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 17:05:48 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "MWF 10:00 AM"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering courses/new.html.erb within layouts/application
  Rendered courses/new.html.erb within layouts/application (Duration: 12.8ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 17.8ms | GC: 0.8ms)
Completed 200 OK in 20ms (Views: 18.5ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.8ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.9ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.8ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:11:45.109718', '2025-04-06 21:11:45.109718'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:11:45.109718', '2025-04-06 21:11:45.109718');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 21:11:45.112229', '2025-04-06 21:11:45.112229', NULL, NULL, NULL), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 21:11:45.112229', '2025-04-06 21:11:45.112229', NULL, NULL, NULL);
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$cfDgGsPWLUAEs77hNYYBbe5IpzENiMiZXJFZCK07FrVt9tnmFDcta', 60, '2025-04-06 21:11:45.117858', '2025-04-06 21:11:45.117858', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$OcBeBZlPvnEkd/iBJT6JzukNcyAu1tJL5bxSLGS.UDB9w63gVJCVO', 100, '2025-04-06 21:11:45.117858', '2025-04-06 21:11:45.117858', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 21:11:45.122720', '2025-04-06 21:11:45.122720', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 21:11:45.122720', '2025-04-06 21:11:45.122720', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 17:11:45 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "MWF 10:00 AM"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering courses/new.html.erb within layouts/application
  Rendered courses/new.html.erb within layouts/application (Duration: 9.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | GC: 0.0ms)
Completed 200 OK in 37ms (Views: 27.8ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 17:11:45 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering courses/edit.html.erb within layouts/application
  Rendered courses/edit.html.erb within layouts/application (Duration: 10.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | GC: 0.0ms)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 17:11:45 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 24ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:19:56.473245', '2025-04-06 21:19:56.473245'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:19:56.473245', '2025-04-06 21:19:56.473245');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 21:19:56.475745', '2025-04-06 21:19:56.475745', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 21:19:56.475745', '2025-04-06 21:19:56.475745', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$3prS19ZtoS8kORkUPXl.qefgvt9LnQvu7TkMfpPRF/JbBEPMOA9LO', 60, '2025-04-06 21:19:56.481533', '2025-04-06 21:19:56.481533', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$Cs7DGU.2ZB..zR8kdaAHpuqozZYxLWaRktykIPfVggjmoal.rKgqS', 100, '2025-04-06 21:19:56.481533', '2025-04-06 21:19:56.481533', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 21:19:56.486412', '2025-04-06 21:19:56.486412', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 21:19:56.486412', '2025-04-06 21:19:56.486412', NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.8ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 17:19:56 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.1ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 21:19:56.658516"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 24ms (ActiveRecord: 0.6ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 17:19:56 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "MWF 10:00 AM"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering courses/new.html.erb within layouts/application
  Rendered courses/new.html.erb within layouts/application (Duration: 10.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.9ms | GC: 0.0ms)
Completed 200 OK in 33ms (Views: 30.2ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 17:19:56 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 17ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:20:29.975912', '2025-04-06 21:20:29.975912'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:20:29.975912', '2025-04-06 21:20:29.975912');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (105, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 21:20:29.978481', '2025-04-06 21:20:29.978481', 'Computer Science', 'Open', 'None'), (106, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 21:20:29.978481', '2025-04-06 21:20:29.978481', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$VF8uNBQRsXBbSVz.aoUrmuJ1Ke9MFlC8KdtiJAOUd7VmLaRCyRBn.', 60, '2025-04-06 21:20:29.984381', '2025-04-06 21:20:29.984381', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$3U6VhuL7g6xHajFbC5M0jOx6J/4magivGaRzzIZS42Xzq3TkBLXW.', 100, '2025-04-06 21:20:29.984381', '2025-04-06 21:20:29.984381', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 21:20:29.989156', '2025-04-06 21:20:29.989156', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 21:20:29.989156', '2025-04-06 21:20:29.989156', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:20:31.009829', '2025-04-06 21:20:31.009829'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:20:31.009829', '2025-04-06 21:20:31.009829');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (105, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 21:20:31.010066', '2025-04-06 21:20:31.010066', 'Computer Science', 'Open', 'None'), (106, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 21:20:31.010066', '2025-04-06 21:20:31.010066', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$zLJc0hJPuqxKU299qbityuhhSvpWm17DW7JAFLTi6M4aU7UwRM2mK', 60, '2025-04-06 21:20:31.010106', '2025-04-06 21:20:31.010106', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$D9sprFchSXCxU306E0tZJ.F9EljBEOu6bGO3qXZ5ryrBEm5ZtK79C', 100, '2025-04-06 21:20:31.010106', '2025-04-06 21:20:31.010106', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 21:20:31.010212', '2025-04-06 21:20:31.010212', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 21:20:31.010212', '2025-04-06 21:20:31.010212', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:20:31.983920', '2025-04-06 21:20:31.983920'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:20:31.983920', '2025-04-06 21:20:31.983920');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (105, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 21:20:31.984026', '2025-04-06 21:20:31.984026', 'Computer Science', 'Open', 'None'), (106, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 21:20:31.984026', '2025-04-06 21:20:31.984026', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$k3XNbp3EpzXa65ikCMkFJ.XUqwg.0kecyntnDYX2TVOWqlakOejD.', 60, '2025-04-06 21:20:31.984252', '2025-04-06 21:20:31.984252', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$hEZ/AT77zJX.Wi5uSgZFbO5mdjc11hJ9WDVUX19r4rcGgG.RFervC', 100, '2025-04-06 21:20:31.984252', '2025-04-06 21:20:31.984252', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 21:20:31.985120', '2025-04-06 21:20:31.985120', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 21:20:31.985120', '2025-04-06 21:20:31.985120', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:21:20.133143', '2025-04-06 21:21:20.133143'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:21:20.133143', '2025-04-06 21:21:20.133143');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 21:21:20.135652', '2025-04-06 21:21:20.135652', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 21:21:20.135652', '2025-04-06 21:21:20.135652', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$2AzQ9oMXmNXUMMFy87G.QuEnXNrSr3M.Ff3i0fQposOkRFY58ToIa', 60, '2025-04-06 21:21:20.141549', '2025-04-06 21:21:20.141549', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$IV1AYboy9Ekuea4QmsAC5OpZZ90y5ljtylUYryIPMuQW0/U4p66rC', 100, '2025-04-06 21:21:20.141549', '2025-04-06 21:21:20.141549', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 21:21:20.146380', '2025-04-06 21:21:20.146380', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 21:21:20.146380', '2025-04-06 21:21:20.146380', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 17:21:20 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 21:21:20.316675"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 20ms (ActiveRecord: 0.5ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 17:21:20 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 17ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 17:21:20 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "MWF 10:00 AM"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering courses/new.html.erb within layouts/application
  Rendered courses/new.html.erb within layouts/application (Duration: 9.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.3ms | GC: 0.0ms)
Completed 200 OK in 30ms (Views: 28.3ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.8ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:23:25.780018', '2025-04-06 21:23:25.780018'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:23:25.780018', '2025-04-06 21:23:25.780018');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 21:23:25.782249', '2025-04-06 21:23:25.782249', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 21:23:25.782249', '2025-04-06 21:23:25.782249', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$N9oLDT27u8T2gVtKVhPvWuL808c9O.mqF3nEKsfb4/RQSbLDZuUg.', 60, '2025-04-06 21:23:25.788513', '2025-04-06 21:23:25.788513', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$6PV/M1y7hleUNH0ork6zVev2GjVn9hl5jCes160CbSmgVhYRRnbe2', 100, '2025-04-06 21:23:25.788513', '2025-04-06 21:23:25.788513', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 21:23:25.793184', '2025-04-06 21:23:25.793184', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 21:23:25.793184', '2025-04-06 21:23:25.793184', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 17:23:25 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 21:23:25.963340"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 20ms (ActiveRecord: 0.5ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 17:23:25 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 17ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 17:23:25 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "MWF 10:00 AM"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering courses/new.html.erb within layouts/application
  Rendered courses/new.html.erb within layouts/application (Duration: 9.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.1ms | GC: 0.0ms)
Completed 200 OK in 31ms (Views: 28.5ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.9ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.8ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:54:38.351813', '2025-04-06 21:54:38.351813'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:54:38.351813', '2025-04-06 21:54:38.351813');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 21:54:38.354306', '2025-04-06 21:54:38.354306', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 21:54:38.354306', '2025-04-06 21:54:38.354306', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$5HYqLYfQLM51J8Wacfs9Ju.IbMmDDEDaHTQxnKosUpOdYEjPTCqkG', 60, '2025-04-06 21:54:38.360941', '2025-04-06 21:54:38.360941', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$blJFrZW.5p9Ad2t5eiFmP.x7wBsj32kSV73i3S7rtFHlhnPNPByOK', 100, '2025-04-06 21:54:38.360941', '2025-04-06 21:54:38.360941', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 21:54:38.366322', '2025-04-06 21:54:38.366322', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 21:54:38.366322', '2025-04-06 21:54:38.366322', NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 17:54:38 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "MWF 10:00 AM"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering courses/new.html.erb within layouts/application
  Rendered courses/new.html.erb within layouts/application (Duration: 9.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | GC: 0.0ms)
Completed 200 OK in 35ms (Views: 27.3ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 17:54:38 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 26ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 17:54:38 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 21:54:38.609088"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:55:01.355073', '2025-04-06 21:55:01.355073'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:55:01.355073', '2025-04-06 21:55:01.355073');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 21:55:01.357279', '2025-04-06 21:55:01.357279', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 21:55:01.357279', '2025-04-06 21:55:01.357279', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$8DnTU.YW9gqnAMISPBv77exgk0Yog9FA/N2r2ad5U.kPJq5lpb2ii', 60, '2025-04-06 21:55:01.363227', '2025-04-06 21:55:01.363227', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$UjG2Bd7Jj140fMYP.fN.geRqjuQulvzDIvwZvoLE7Fwhj7tbblggy', 100, '2025-04-06 21:55:01.363227', '2025-04-06 21:55:01.363227', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 21:55:01.368552', '2025-04-06 21:55:01.368552', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 21:55:01.368552', '2025-04-06 21:55:01.368552', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 17:55:01 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 30ms (ActiveRecord: 0.6ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 17:55:01 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "MWF 10:00 AM"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering courses/new.html.erb within layouts/application
  Rendered courses/new.html.erb within layouts/application (Duration: 8.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 22.5ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 17:55:01 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 21:55:01.576060"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 6ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:55:32.100137', '2025-04-06 21:55:32.100137'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:55:32.100137', '2025-04-06 21:55:32.100137');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 21:55:32.102610', '2025-04-06 21:55:32.102610', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 21:55:32.102610', '2025-04-06 21:55:32.102610', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$wBP4xc8EwTe3Gl9Kt.brMumxjjahmQQSSs3B1T8.WtENXVtt4UdQi', 60, '2025-04-06 21:55:32.108561', '2025-04-06 21:55:32.108561', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$MzW8nSv2H7uocgWCAf6X1uXW6E7Es0t3NbmLI6z3OSpNwJD.IM55.', 100, '2025-04-06 21:55:32.108561', '2025-04-06 21:55:32.108561', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 21:55:32.113428', '2025-04-06 21:55:32.113428', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 21:55:32.113428', '2025-04-06 21:55:32.113428', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (1.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:57:09.774435', '2025-04-06 21:57:09.774435'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:57:09.774435', '2025-04-06 21:57:09.774435');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 21:57:09.776713', '2025-04-06 21:57:09.776713', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 21:57:09.776713', '2025-04-06 21:57:09.776713', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$fVt6gNzw9hGgwNmGkpoy4O0ZWEJ88tyNOXFhp/JN5rBeQBPZuHg6S', 60, '2025-04-06 21:57:09.782898', '2025-04-06 21:57:09.782898', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$Y7Rsgt/oTud6sNPW3.DteOSWsy31bpRCfAODW7YEvoIt.MvBPLCM.', 100, '2025-04-06 21:57:09.782898', '2025-04-06 21:57:09.782898', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 21:57:09.787786', '2025-04-06 21:57:09.787786', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 21:57:09.787786', '2025-04-06 21:57:09.787786', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 17:57:09 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 21:57:09.963079"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 21ms (ActiveRecord: 0.6ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 17:57:09 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 17ms (ActiveRecord: 0.2ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 17:57:09 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "MWF 10:00 AM"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering courses/new.html.erb within layouts/application
  Rendered courses/new.html.erb within layouts/application (Duration: 9.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.4ms | GC: 0.0ms)
Completed 200 OK in 31ms (Views: 28.6ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:57:17.977291', '2025-04-06 21:57:17.977291'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:57:17.977291', '2025-04-06 21:57:17.977291');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 21:57:17.979970', '2025-04-06 21:57:17.979970', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 21:57:17.979970', '2025-04-06 21:57:17.979970', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$rgNUYQb1KyaOi4vlPYN9wO46LtdNC3Ki.Bd5Jyn8SD6d7PikwzaqW', 60, '2025-04-06 21:57:17.986297', '2025-04-06 21:57:17.986297', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$Ps6sWXhbKBMgOtQ0TFNIV.AytDub9zlaK3O97xzyfsDF0VdmUoAtC', 100, '2025-04-06 21:57:17.986297', '2025-04-06 21:57:17.986297', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 21:57:17.991203', '2025-04-06 21:57:17.991203', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 21:57:17.991203', '2025-04-06 21:57:17.991203', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 21:57:18.102576"], ["updated_at", "2025-04-06 21:57:18.102576"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_not_enroll_if_prerequisite_not_met: ArgumentError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 17:57:18 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 21:57:18.167838"], ["updated_at", "2025-04-06 21:57:18.167838"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 14ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 21:57:18.181953"], ["updated_at", "2025-04-06 21:57:18.181953"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 21:57:18.191121"], ["updated_at", "2025-04-06 21:57:18.191121"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_enroll_if_prerequisite_met: ArgumentError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 17:57:18 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.3ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 21:57:18.195984"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.4ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 17:57:18 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 7ms (ActiveRecord: 0.2ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.6ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.7ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:00:12.835570', '2025-04-06 22:00:12.835570'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:00:12.835570', '2025-04-06 22:00:12.835570');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:00:12.838091', '2025-04-06 22:00:12.838091', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:00:12.838091', '2025-04-06 22:00:12.838091', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$q3WNhtVqBxk2YV8LR/3aEeSHjmDQtm2u3110lYspGh2qMw/M3f8.S', 60, '2025-04-06 22:00:12.844579', '2025-04-06 22:00:12.844579', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$WTO2iXzx4.6KAgBH7TX1J.6cVanejNy8k3OXC1AnLQ7CrTygjJ8G.', 100, '2025-04-06 22:00:12.844579', '2025-04-06 22:00:12.844579', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 22:00:12.850728', '2025-04-06 22:00:12.850728', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 22:00:12.850728', '2025-04-06 22:00:12.850728', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (1.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:00:23.168869', '2025-04-06 22:00:23.168869'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:00:23.168869', '2025-04-06 22:00:23.168869');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:00:23.171058', '2025-04-06 22:00:23.171058', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:00:23.171058', '2025-04-06 22:00:23.171058', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$tnttItUTAAvpy87rSYOLHONZqAcbznHhdUWIb0cJynSMJXur5nqPO', 60, '2025-04-06 22:00:23.176891', '2025-04-06 22:00:23.176891', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$/kXlVcakLjgnvJW/RDD3R.4AoipfouePT4SG.QkoySaglbXfbtn7W', 100, '2025-04-06 22:00:23.176891', '2025-04-06 22:00:23.176891', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 22:00:23.182259', '2025-04-06 22:00:23.182259', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 22:00:23.182259', '2025-04-06 22:00:23.182259', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:00:23 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:00:23.346650"], ["updated_at", "2025-04-06 22:00:23.346650"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 18ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:00:23 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:00:23.368310"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:00:23 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 12ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:00:23.385457"], ["updated_at", "2025-04-06 22:00:23.385457"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_not_enroll_if_prerequisite_not_met: ArgumentError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:00:23.388616"], ["updated_at", "2025-04-06 22:00:23.388616"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:00:23.404083"], ["updated_at", "2025-04-06 22:00:23.404083"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_enroll_if_prerequisite_met: ArgumentError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:00:32.796882', '2025-04-06 22:00:32.796882'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:00:32.796882', '2025-04-06 22:00:32.796882');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:00:32.800007', '2025-04-06 22:00:32.800007', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:00:32.800007', '2025-04-06 22:00:32.800007', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$nUd0Mlqxh3JF9yiyR8jYC.3/JM.hy1lq56mEgTQCl0E9dZvqHvUwS', 60, '2025-04-06 22:00:32.806076', '2025-04-06 22:00:32.806076', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$1W9gtKx4pJ06Dctbd5n8POdPl/i2/TM4m2omaJaY20ysR/QiwHuK6', 100, '2025-04-06 22:00:32.806076', '2025-04-06 22:00:32.806076', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 22:00:32.810849', '2025-04-06 22:00:32.810849', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 22:00:32.810849', '2025-04-06 22:00:32.810849', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (1.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.8ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:01:21.815525', '2025-04-06 22:01:21.815525'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:01:21.815525', '2025-04-06 22:01:21.815525');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:01:21.817924', '2025-04-06 22:01:21.817924', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:01:21.817924', '2025-04-06 22:01:21.817924', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$wkxHQ1GPIKaqLNR9m1sFNO082YkxQ8c3dACcgvz2ERJpt5dEV200u', 60, '2025-04-06 22:01:21.823670', '2025-04-06 22:01:21.823670', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$dgV2hy7uSC4aRYiNnOR7ae2NEz0dG3jQWCJ/YiE0c9YSRj8yMTeF.', 100, '2025-04-06 22:01:21.823670', '2025-04-06 22:01:21.823670', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 22:01:21.828345', '2025-04-06 22:01:21.828345', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 22:01:21.828345', '2025-04-06 22:01:21.828345', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:01:21.950854"], ["updated_at", "2025-04-06 22:01:21.950854"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_not_enroll_if_prerequisite_not_met: ArgumentError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:01:21 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:01:22.028079"], ["updated_at", "2025-04-06 22:01:22.028079"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 15ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:01:22 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 15ms (ActiveRecord: 0.2ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:01:22 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:01:22.060341"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:01:22.063549"], ["updated_at", "2025-04-06 22:01:22.063549"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:01:22.068065"], ["updated_at", "2025-04-06 22:01:22.068065"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_enroll_if_prerequisite_met: ArgumentError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:02:52.791550', '2025-04-06 22:02:52.791550'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:02:52.791550', '2025-04-06 22:02:52.791550');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:02:52.793783', '2025-04-06 22:02:52.793783', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:02:52.793783', '2025-04-06 22:02:52.793783', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$Bt2cY50QHDosusKSJYJl.OEwg1o.ELg5YWbLAeC1v.f6zRt1F17hK', 60, '2025-04-06 22:02:52.799687', '2025-04-06 22:02:52.799687', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$Y040qNTILxW1c6DLrtdBnOHVV5hljcnZn3pKu9sl1/6AXdVB759o2', 100, '2025-04-06 22:02:52.799687', '2025-04-06 22:02:52.799687', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 22:02:52.804366', '2025-04-06 22:02:52.804366', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 22:02:52.804366', '2025-04-06 22:02:52.804366', NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (1.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.6ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:03:00.430865', '2025-04-06 22:03:00.430865'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:03:00.430865', '2025-04-06 22:03:00.430865');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:03:00.433145', '2025-04-06 22:03:00.433145', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:03:00.433145', '2025-04-06 22:03:00.433145', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$klHLghjFG/xAT4gVaAM.KuzyVH4cTcscKV.j0CUmXantujFBb.5Qu', 60, '2025-04-06 22:03:00.439169', '2025-04-06 22:03:00.439169', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$Zf.jtkn2RNIMefSn4/AS.u9RaAnkFLgR.cYCkA3NAH/mplrO0ACTC', 100, '2025-04-06 22:03:00.439169', '2025-04-06 22:03:00.439169', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 22:03:00.443968', '2025-04-06 22:03:00.443968', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 22:03:00.443968', '2025-04-06 22:03:00.443968', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:03:00 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 27ms (ActiveRecord: 0.7ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:03:00 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:03:00.647504"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:03:00.652979"], ["updated_at", "2025-04-06 22:03:00.652979"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:03:00.657821"], ["updated_at", "2025-04-06 22:03:00.657821"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_enroll_if_prerequisite_met: ArgumentError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:03:00 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:03:00.661524"], ["updated_at", "2025-04-06 22:03:00.661524"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:03:00.672544"], ["updated_at", "2025-04-06 22:03:00.672544"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_not_enroll_if_prerequisite_not_met: ArgumentError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:08:37.649158', '2025-04-06 22:08:37.649158'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:08:37.649158', '2025-04-06 22:08:37.649158');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:08:37.651704', '2025-04-06 22:08:37.651704', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:08:37.651704', '2025-04-06 22:08:37.651704', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$tLxmdfYD1P8S.jMC3fxTxep77n6kJ9gEP5aYTf2LMlouedCdvrUWa', 60, '2025-04-06 22:08:37.657479', '2025-04-06 22:08:37.657479', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$CPSXyr2kSsDx0sCL8yf.XOy3.S16nzekr7TDELNEXxlCrMJ0Yes0S', 100, '2025-04-06 22:08:37.657479', '2025-04-06 22:08:37.657479', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 22:08:37.662155', '2025-04-06 22:08:37.662155', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 22:08:37.662155', '2025-04-06 22:08:37.662155', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:08:37.782241"], ["updated_at", "2025-04-06 22:08:37.782241"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 18:08:37 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:37:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:36:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:08:37 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:08:38.024229"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 18ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.6ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:08:38 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:08:38.038216"], ["updated_at", "2025-04-06 22:08:38.038216"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.4ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:08:38.041653"], ["updated_at", "2025-04-06 22:08:38.041653"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:08:38.052359"], ["updated_at", "2025-04-06 22:08:38.052359"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_enroll_if_prerequisite_met: ArgumentError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:08:38 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 10ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 1.7ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:09:26.877324', '2025-04-06 22:09:26.877324'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:09:26.877324', '2025-04-06 22:09:26.877324');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:09:26.879515', '2025-04-06 22:09:26.879515', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:09:26.879515', '2025-04-06 22:09:26.879515', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$aNOESKbU8ZbfDziDFTb2lOHdXU/1aDWJIdv2PJ8wev4M7R6QoSyQS', 60, '2025-04-06 22:09:26.885530', '2025-04-06 22:09:26.885530', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$FSQzrFogIdtMts2XTt2G9uKAc/8XFvUy.dNjGMqIizzait/HsvDku', 100, '2025-04-06 22:09:26.885530', '2025-04-06 22:09:26.885530', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 22:09:26.890315', '2025-04-06 22:09:26.890315', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 22:09:26.890315', '2025-04-06 22:09:26.890315', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (1.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:09:34.441552', '2025-04-06 22:09:34.441552'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:09:34.441552', '2025-04-06 22:09:34.441552');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:09:34.444185', '2025-04-06 22:09:34.444185', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:09:34.444185', '2025-04-06 22:09:34.444185', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$zF6mxjVAuVoiMgnPa9q92O1MdyQCAwnNTp4K8DmHL.YKnatlfjaKW', 60, '2025-04-06 22:09:34.450068', '2025-04-06 22:09:34.450068', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$VxO6Yi6lLnN3US7.dkFNcuyjMeHrmY9ht615WRnTyn/2l5aJeuMVG', 100, '2025-04-06 22:09:34.450068', '2025-04-06 22:09:34.450068', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 22:09:34.454891', '2025-04-06 22:09:34.454891', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 22:09:34.454891', '2025-04-06 22:09:34.454891', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:09:34 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:09:34.609759"], ["updated_at", "2025-04-06 22:09:34.609759"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 18ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:09:34 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 12ms (ActiveRecord: 0.2ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:09:34 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:09:34.644065"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:09:34.647498"], ["updated_at", "2025-04-06 22:09:34.647498"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:09:34.650332"], ["updated_at", "2025-04-06 22:09:34.650332"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_enroll_if_prerequisite_met: ArgumentError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:09:34.660086"], ["updated_at", "2025-04-06 22:09:34.660086"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 18:09:34 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:37:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:36:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.8ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:11:55.519608', '2025-04-06 22:11:55.519608'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:11:55.519608', '2025-04-06 22:11:55.519608');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:11:55.521800', '2025-04-06 22:11:55.521800', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:11:55.521800', '2025-04-06 22:11:55.521800', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$j/xleVqrVUJjq/wc0zfRjOSOfzw/.ek9meGJ4A8xP0VR6XFQ8hSfC', 60, '2025-04-06 22:11:55.527695', '2025-04-06 22:11:55.527695', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$y1XJPx5qFNDr7PXzcEsfX.iJyHm9M/czm8jObLgZMes2E0q0J3.SG', 100, '2025-04-06 22:11:55.527695', '2025-04-06 22:11:55.527695', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 22:11:55.532388', '2025-04-06 22:11:55.532388', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 22:11:55.532388', '2025-04-06 22:11:55.532388', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:11:55 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 26ms (ActiveRecord: 0.5ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:11:55.730321"], ["updated_at", "2025-04-06 22:11:55.730321"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 18:11:55 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:37:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:36:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:11:55 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:11:55.868407"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 1.9ms (3 queries, 0 cached) | GC: 0.9ms)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:11:55.872028"], ["updated_at", "2025-04-06 22:11:55.872028"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:11:55.878548"], ["updated_at", "2025-04-06 22:11:55.878548"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_enroll_if_prerequisite_met: ArgumentError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:11:55 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:11:55.892693"], ["updated_at", "2025-04-06 22:11:55.892693"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 7ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:12:15.081927', '2025-04-06 22:12:15.081927'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:12:15.081927', '2025-04-06 22:12:15.081927');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:12:15.084535', '2025-04-06 22:12:15.084535', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:12:15.084535', '2025-04-06 22:12:15.084535', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$vtqWtVqc365z5QnUD9tGyuRZxWJzMDUYdRpKQhg2n8R6nQHpN1NOi', 60, '2025-04-06 22:12:15.090608', '2025-04-06 22:12:15.090608', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$LsZJ0FXrDzOz0dEHmMQv0OlbAJjpI6MdCZjrP/rZu0CpQJu9bkO1G', 100, '2025-04-06 22:12:15.090608', '2025-04-06 22:12:15.090608', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 22:12:15.095642', '2025-04-06 22:12:15.095642', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 22:12:15.095642', '2025-04-06 22:12:15.095642', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:12:15 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 24ms (ActiveRecord: 0.5ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:12:15.279192"], ["updated_at", "2025-04-06 22:12:15.279192"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 18:12:15 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:37:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:36:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:12:15 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:12:15.405595"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.6ms (3 queries, 0 cached) | GC: 0.5ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:12:15 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:12:15.411106"], ["updated_at", "2025-04-06 22:12:15.411106"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:12:15.415156"], ["updated_at", "2025-04-06 22:12:15.415156"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:12:15.430040"], ["updated_at", "2025-04-06 22:12:15.430040"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_enroll_if_prerequisite_met: ArgumentError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.8ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:14:34.715324', '2025-04-06 22:14:34.715324'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:14:34.715324', '2025-04-06 22:14:34.715324');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:14:34.717543', '2025-04-06 22:14:34.717543', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:14:34.717543', '2025-04-06 22:14:34.717543', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$Qa/m7CKdSzB08IkLpuEtUOYNXsFde4pU7LB8FagZodnDJjBwyYpvi', 60, '2025-04-06 22:14:34.723328', '2025-04-06 22:14:34.723328', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$mA9i5Xkw30kChcxloLoGdeeWgKycClEv7bgkYuh6Rx7N5K.J.pI5C', 100, '2025-04-06 22:14:34.723328', '2025-04-06 22:14:34.723328', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 22:14:34.728039', '2025-04-06 22:14:34.728039', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 22:14:34.728039', '2025-04-06 22:14:34.728039', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:14:34 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 26ms (ActiveRecord: 0.5ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:14:34 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:14:34.925053"], ["updated_at", "2025-04-06 22:14:34.925053"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 6ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:14:34.931448"], ["updated_at", "2025-04-06 22:14:34.931448"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 18:14:34 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:37:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:36:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:14:35.061579"], ["updated_at", "2025-04-06 22:14:35.061579"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:14:35.067954"], ["updated_at", "2025-04-06 22:14:35.067954"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 18:14:35 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:70:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:69:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:14:35 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.1ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:14:35.189652"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 13ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.8ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:17:43.834705', '2025-04-06 22:17:43.834705'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:17:43.834705', '2025-04-06 22:17:43.834705');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:17:43.837202', '2025-04-06 22:17:43.837202', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:17:43.837202', '2025-04-06 22:17:43.837202', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$6tgg4xUvY70uSYi8cnrIMuTb4rhx2TPrNt/WMTfDbXeLCxIjgQpqa', 60, '2025-04-06 22:17:43.843084', '2025-04-06 22:17:43.843084', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$3vQaglkiwWkk9Zhh99I9MehMS2CCBb5KyChh7YpVePUeUZ/VmdLge', 100, '2025-04-06 22:17:43.843084', '2025-04-06 22:17:43.843084', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 22:17:43.847778', '2025-04-06 22:17:43.847778', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 22:17:43.847778', '2025-04-06 22:17:43.847778', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (1.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:17:53.061030', '2025-04-06 22:17:53.061030'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:17:53.061030', '2025-04-06 22:17:53.061030');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:17:53.063563', '2025-04-06 22:17:53.063563', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:17:53.063563', '2025-04-06 22:17:53.063563', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$OPYxfKz.tABI7WEKtLw/xuqd1JkYYbkNcqpN5dy35.CRE4lVfH.ga', 60, '2025-04-06 22:17:53.069434', '2025-04-06 22:17:53.069434', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$ydNtH83pYtC9FwrO/wMaGuDZ0ExNDSf4x758y5LHnefUlAhaNHQKG', 100, '2025-04-06 22:17:53.069434', '2025-04-06 22:17:53.069434', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 22:17:53.074400', '2025-04-06 22:17:53.074400', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 22:17:53.074400', '2025-04-06 22:17:53.074400', NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:17:53.188154"], ["updated_at", "2025-04-06 22:17:53.188154"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 18:17:53 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:37:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:36:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:17:53 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:17:53.434366"], ["updated_at", "2025-04-06 22:17:53.434366"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 15ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.6ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:17:53.446839"], ["updated_at", "2025-04-06 22:17:53.446839"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:17:53.458038"], ["updated_at", "2025-04-06 22:17:53.458038"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 18:17:53 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:70:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:69:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:17:53 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 13ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 2.2ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:17:53 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.1ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:17:53.573185"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 1.1ms)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.7ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:20:55.975618', '2025-04-06 22:20:55.975618'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:20:55.975618', '2025-04-06 22:20:55.975618');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:20:55.978164', '2025-04-06 22:20:55.978164', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:20:55.978164', '2025-04-06 22:20:55.978164', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$R1fgzxgtHHi9Xs2H/Qf49ev3PjPowkka1UDmQyGj/B9BogiZd5Yua', 60, '2025-04-06 22:20:55.984188', '2025-04-06 22:20:55.984188', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$uweZ5XCeMAGvc.eWkzn8HOgwxNgf0B.PBxI/Bg9Y0dASPkPxM9zwe', 100, '2025-04-06 22:20:55.984188', '2025-04-06 22:20:55.984188', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-06 22:20:55.989056', '2025-04-06 22:20:55.989056', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 22:20:55.989056', '2025-04-06 22:20:55.989056', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:20:56 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:20:56.160052"], ["updated_at", "2025-04-06 22:20:56.160052"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 18ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:20:56 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 14ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:20:56 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:20:56.196409"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:20:56.199181"], ["updated_at", "2025-04-06 22:20:56.199181"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:20:56.202121"], ["updated_at", "2025-04-06 22:20:56.202121"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:20:56.217213"], ["updated_at", "2025-04-06 22:20:56.217213"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 18:20:56 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:70:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:69:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.7ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:22:07.452080', '2025-04-06 22:22:07.452080'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:22:07.452080', '2025-04-06 22:22:07.452080');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:22:07.454737', '2025-04-06 22:22:07.454737', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:22:07.454737', '2025-04-06 22:22:07.454737', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$1RaKgmWcWraKqxzID/6Ma.0/obeOAlVOSpJkSG.bXWlDm0jQ71bhy', 60, '2025-04-06 22:22:07.460472', '2025-04-06 22:22:07.460472', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$I9bRFzYt0wqceyvx8tKCjuWOpxUR5VO9ZIHROOWi9xdXyzE.mS0bG', 100, '2025-04-06 22:22:07.460472', '2025-04-06 22:22:07.460472', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-06 22:22:07.465210', '2025-04-06 22:22:07.465210', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 22:22:07.465210', '2025-04-06 22:22:07.465210', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.2ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (1.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.9ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:22:15.374826', '2025-04-06 22:22:15.374826'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:22:15.374826', '2025-04-06 22:22:15.374826');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:22:15.377712', '2025-04-06 22:22:15.377712', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:22:15.377712', '2025-04-06 22:22:15.377712', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$F6Qm9sQJFXdOGA7T4FgUSOcfl4869Vt9f9bD0BS/J0cCl9BY74C12', 60, '2025-04-06 22:22:15.384128', '2025-04-06 22:22:15.384128', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$YOHqZQ1pKBLHcjLTk.Quy.VsAbp.Z9n0Z.ckIkrOfIlvQZaUpLikO', 100, '2025-04-06 22:22:15.384128', '2025-04-06 22:22:15.384128', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-06 22:22:15.389102', '2025-04-06 22:22:15.389102', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 22:22:15.389102', '2025-04-06 22:22:15.389102', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:22:15 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:22:15.563546"], ["updated_at", "2025-04-06 22:22:15.563546"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 18ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:22:15 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 14ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:22:15.598515"], ["updated_at", "2025-04-06 22:22:15.598515"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:22:15.601366"], ["updated_at", "2025-04-06 22:22:15.601366"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 18:22:15 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:70:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:69:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:22:15 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:22:15.735463"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.5ms)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.6ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:22:15.749265"], ["updated_at", "2025-04-06 22:22:15.749265"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.8ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:24:07.773636', '2025-04-06 22:24:07.773636'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:24:07.773636', '2025-04-06 22:24:07.773636');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:24:07.776277', '2025-04-06 22:24:07.776277', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:24:07.776277', '2025-04-06 22:24:07.776277', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$WJdnrgm5nm2xIrWvF.3AlelqYfuoPhchUEnWovSjdrKSqGK5XHjSO', 60, '2025-04-06 22:24:07.782249', '2025-04-06 22:24:07.782249', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$JRY7BWhfreBlhK7mjsLfT.P/g4pniZTMquZVIxLP3ZHJVewEjXjra', 100, '2025-04-06 22:24:07.782249', '2025-04-06 22:24:07.782249', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-06 22:24:07.787064', '2025-04-06 22:24:07.787064', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 22:24:07.787064', '2025-04-06 22:24:07.787064', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:24:07.908763"], ["updated_at", "2025-04-06 22:24:07.908763"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:24:07.939252"], ["updated_at", "2025-04-06 22:24:07.939252"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 18:24:07 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:70:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:69:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:24:08 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.9ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 29ms (ActiveRecord: 1.6ms (6 queries, 1 cached) | GC: 0.1ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:24:08 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:24:08.200823"], ["updated_at", "2025-04-06 22:24:08.200823"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 6ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:24:08 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:24:08.209454"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 11ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.5ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:24:08.222559"], ["updated_at", "2025-04-06 22:24:08.222559"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.8ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:24:38.232093', '2025-04-06 22:24:38.232093'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:24:38.232093', '2025-04-06 22:24:38.232093');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:24:38.234597', '2025-04-06 22:24:38.234597', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:24:38.234597', '2025-04-06 22:24:38.234597', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$KdNS9caTr2OvRm6usxcSQevSFb3yFxSymxkiYsAh1vHjaRESWGBQy', 60, '2025-04-06 22:24:38.240491', '2025-04-06 22:24:38.240491', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$pKTpUaGQmfN9WRrJMefTEuBZq.MpkowUgTWIHmNc.8Qx4DtCmcwYi', 100, '2025-04-06 22:24:38.240491', '2025-04-06 22:24:38.240491', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-06 22:24:38.245185', '2025-04-06 22:24:38.245185', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 22:24:38.245185', '2025-04-06 22:24:38.245185', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:24:38.371408"], ["updated_at", "2025-04-06 22:24:38.371408"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:24:38.401095"], ["updated_at", "2025-04-06 22:24:38.401095"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 18:24:38 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:99:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:98:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:24:38.590616"], ["updated_at", "2025-04-06 22:24:38.590616"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.6ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:24:38 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:24:38.648108"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 27ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:24:38 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:24:38.672019"], ["updated_at", "2025-04-06 22:24:38.672019"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.7ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:24:38 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 16ms (ActiveRecord: 0.7ms (6 queries, 1 cached) | GC: 2.8ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:25:14.612319', '2025-04-06 22:25:14.612319'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:25:14.612319', '2025-04-06 22:25:14.612319');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:25:14.614529', '2025-04-06 22:25:14.614529', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:25:14.614529', '2025-04-06 22:25:14.614529', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$urpnhfmFLRl66dmC8QSe.uz0lPZRQQZh/cSUAcXRaNRhcd4UOa0oe', 60, '2025-04-06 22:25:14.620601', '2025-04-06 22:25:14.620601', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$gjQxRRApY1erW7LRyjBV.OTdUTT9jLN3qnyr6BexqdgBLUUZZaN9W', 100, '2025-04-06 22:25:14.620601', '2025-04-06 22:25:14.620601', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-06 22:25:14.625430', '2025-04-06 22:25:14.625430', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 22:25:14.625430', '2025-04-06 22:25:14.625430', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:25:14.750585"], ["updated_at", "2025-04-06 22:25:14.750585"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:25:14.781018"], ["updated_at", "2025-04-06 22:25:14.781018"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 18:25:14 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:99:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:98:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:25:14 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (1.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (1.5ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 32ms (ActiveRecord: 2.7ms (6 queries, 1 cached) | GC: 1.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:25:15 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:25:15.046328"], ["updated_at", "2025-04-06 22:25:15.046328"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.2ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:25:15.052052"], ["updated_at", "2025-04-06 22:25:15.052052"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:25:15 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:25:15.058905"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 12ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.9ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.7ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:26:25.498655', '2025-04-06 22:26:25.498655'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:26:25.498655', '2025-04-06 22:26:25.498655');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:26:25.500853', '2025-04-06 22:26:25.500853', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:26:25.500853', '2025-04-06 22:26:25.500853', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$I3HcBz6wW.NxDocVeCnnGOF1ZmOglrT4bOhhZgBnEtGAgjOW4td3e', 60, '2025-04-06 22:26:25.506717', '2025-04-06 22:26:25.506717', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$5fkpLvDXrswxr.2P0pvCWuMwpR/Cjb5KrYyoBCl7WUcJZX0KE.rGu', 100, '2025-04-06 22:26:25.506717', '2025-04-06 22:26:25.506717', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-06 22:26:25.511441', '2025-04-06 22:26:25.511441', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 22:26:25.511441', '2025-04-06 22:26:25.511441', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:26:25.632155"], ["updated_at", "2025-04-06 22:26:25.632155"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:26:25.661708"], ["updated_at", "2025-04-06 22:26:25.661708"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.8ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.2ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:26:25.681752"], ["updated_at", "2025-04-06 22:26:25.681752"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 18:26:25 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:70:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:69:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:26:25 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:26:25.908454"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 28ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:26:25 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:26:25.931936"], ["updated_at", "2025-04-06 22:26:25.931936"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:26:25 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 14ms (ActiveRecord: 0.6ms (6 queries, 1 cached) | GC: 1.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:26:39.614072', '2025-04-06 22:26:39.614072'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:26:39.614072', '2025-04-06 22:26:39.614072');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:26:39.616330', '2025-04-06 22:26:39.616330', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:26:39.616330', '2025-04-06 22:26:39.616330', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$cNFJ/FqhqM6lHjcDY5vxju/iYXKKZ506fc57FCKFBsdeHQT9iTwSy', 60, '2025-04-06 22:26:39.622459', '2025-04-06 22:26:39.622459', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$cH2H7BSh8oeYJprKU5ySeuZjJJ7243mab8nDNWxzKYq2n/uiNAbyW', 100, '2025-04-06 22:26:39.622459', '2025-04-06 22:26:39.622459', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-06 22:26:39.627301', '2025-04-06 22:26:39.627301', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 22:26:39.627301', '2025-04-06 22:26:39.627301', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:26:39 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:26:39.800669"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 21ms (ActiveRecord: 0.5ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:26:39 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:26:39.818751"], ["updated_at", "2025-04-06 22:26:39.818751"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:26:39.823029"], ["updated_at", "2025-04-06 22:26:39.823029"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:26:39 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 10ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:26:39.841457"], ["updated_at", "2025-04-06 22:26:39.841457"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:26:39.856279"], ["updated_at", "2025-04-06 22:26:39.856279"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 18:26:39 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:70:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:69:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.7ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.8ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:27:22.122679', '2025-04-06 22:27:22.122679'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:27:22.122679', '2025-04-06 22:27:22.122679');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:27:22.125357', '2025-04-06 22:27:22.125357', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:27:22.125357', '2025-04-06 22:27:22.125357', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$6rD4myWGd8JP.Pf.5fbop.0DbiqXtSoucZvSuEetHEIF8LPlS/iry', 60, '2025-04-06 22:27:22.131381', '2025-04-06 22:27:22.131381', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$SgmkjFVcn0w3zjdFs4lz0ui3Q/FYrggwyEdhpE5df6unhMcU.67Le', 100, '2025-04-06 22:27:22.131381', '2025-04-06 22:27:22.131381', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-06 22:27:22.136372', '2025-04-06 22:27:22.136372', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 22:27:22.136372', '2025-04-06 22:27:22.136372', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:27:22 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.1ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:27:22.315957"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 21ms (ActiveRecord: 0.5ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:27:22.333337"], ["updated_at", "2025-04-06 22:27:22.333337"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:27:22.342514"], ["updated_at", "2025-04-06 22:27:22.342514"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 18:27:22 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:100:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:99:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:27:22 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:27:22.471301"], ["updated_at", "2025-04-06 22:27:22.471301"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:27:22.475548"], ["updated_at", "2025-04-06 22:27:22.475548"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:27:22 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 21ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.1ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:28:12.323408', '2025-04-06 22:28:12.323408'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:28:12.323408', '2025-04-06 22:28:12.323408');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:28:12.325950', '2025-04-06 22:28:12.325950', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:28:12.325950', '2025-04-06 22:28:12.325950', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$RUkvSr/ZN7ucM42aaEuvqu7Pg0t38EoXWWauhnQsyxRaTwNt.ZkP.', 60, '2025-04-06 22:28:12.331785', '2025-04-06 22:28:12.331785', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$BJR2964f7s/A.5eY81MfXu.SzaTEbsSeY6wOhUSzzvf6Br7LUlyfC', 100, '2025-04-06 22:28:12.331785', '2025-04-06 22:28:12.331785', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-06 22:28:12.336635', '2025-04-06 22:28:12.336635', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 22:28:12.336635', '2025-04-06 22:28:12.336635', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:28:12 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 26ms (ActiveRecord: 0.5ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:28:12 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:28:12.536192"], ["updated_at", "2025-04-06 22:28:12.536192"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 7ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:28:12.542702"], ["updated_at", "2025-04-06 22:28:12.542702"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:28:12.545674"], ["updated_at", "2025-04-06 22:28:12.545674"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 18:28:12 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:71:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:70:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:28:12 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:28:12.672297"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 5ms (ActiveRecord: 1.9ms (3 queries, 0 cached) | GC: 0.9ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:28:12.684823"], ["updated_at", "2025-04-06 22:28:12.684823"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:28:30.108807', '2025-04-06 22:28:30.108807'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:28:30.108807', '2025-04-06 22:28:30.108807');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:28:30.110948', '2025-04-06 22:28:30.110948', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:28:30.110948', '2025-04-06 22:28:30.110948', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$KB9I1xMdo4JMjLNAZyGv2ufLogoOCx7pZWJCdw4x5nt1IEZa02xmi', 60, '2025-04-06 22:28:30.117128', '2025-04-06 22:28:30.117128', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$0zwuSaRma.Qgwqumw810EeXT1Q2c5QzjWlt/slx61uIfPJzDEoXKW', 100, '2025-04-06 22:28:30.117128', '2025-04-06 22:28:30.117128', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-06 22:28:30.122304', '2025-04-06 22:28:30.122304', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 22:28:30.122304', '2025-04-06 22:28:30.122304', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:28:30.241522"], ["updated_at", "2025-04-06 22:28:30.241522"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:28:30 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:28:30.315029"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 20ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:28:30.329730"], ["updated_at", "2025-04-06 22:28:30.329730"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:28:30.336774"], ["updated_at", "2025-04-06 22:28:30.336774"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 18:28:30 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:71:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:70:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:28:30 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 9ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.2ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:28:30 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:28:30.479832"], ["updated_at", "2025-04-06 22:28:30.479832"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:31:41.720344', '2025-04-06 22:31:41.720344'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:31:41.720344', '2025-04-06 22:31:41.720344');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:31:41.722564', '2025-04-06 22:31:41.722564', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:31:41.722564', '2025-04-06 22:31:41.722564', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$qePzYzCnAqYU0IXoaa.DQumT4In03Rtxd5YkXmKVaMk0Ko1GjJVIi', 60, '2025-04-06 22:31:41.728413', '2025-04-06 22:31:41.728413', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$tI07zk49YGMfpL9alOO7JOXnNiULsv/Goqo0Qvtn2G/9Ig2dlpWTa', 100, '2025-04-06 22:31:41.728413', '2025-04-06 22:31:41.728413', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 22:31:41.733112', '2025-04-06 22:31:41.733112', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 22:31:41.733112', '2025-04-06 22:31:41.733112', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:31:41 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:31:41.893254"], ["updated_at", "2025-04-06 22:31:41.893254"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 18ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:31:41.911808"], ["updated_at", "2025-04-06 22:31:41.911808"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:31:41.920900"], ["updated_at", "2025-04-06 22:31:41.920900"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 18:31:41 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:71:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:70:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:31:42 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:31:42.040769"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:31:42.046410"], ["updated_at", "2025-04-06 22:31:42.046410"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 18:31:42 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:37:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:36:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:31:42 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 18ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:31:53.253756', '2025-04-06 22:31:53.253756'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:31:53.253756', '2025-04-06 22:31:53.253756');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:31:53.256038', '2025-04-06 22:31:53.256038', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:31:53.256038', '2025-04-06 22:31:53.256038', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$nExq2t8fb4x.RZIrkgNP8Oibgr1FJr4Se.SczC6odm4b/7DBnB1eu', 60, '2025-04-06 22:31:53.262062', '2025-04-06 22:31:53.262062', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$5L5vEiupKQKmIf2J3I8Qkufej/uyHaLf/A3rS0gwxtGYlZWZ99oSi', 100, '2025-04-06 22:31:53.262062', '2025-04-06 22:31:53.262062', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-06 22:31:53.266827', '2025-04-06 22:31:53.266827', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 22:31:53.266827', '2025-04-06 22:31:53.266827', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:31:53 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 24ms (ActiveRecord: 0.5ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:31:53.448699"], ["updated_at", "2025-04-06 22:31:53.448699"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:31:53.455563"], ["updated_at", "2025-04-06 22:31:53.455563"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 18:31:53 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:71:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:70:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:31:53 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:31:53.573863"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:31:53.577983"], ["updated_at", "2025-04-06 22:31:53.577983"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:31:53 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:31:53.592341"], ["updated_at", "2025-04-06 22:31:53.592341"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 14ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.6ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.7ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:32:23.814661', '2025-04-06 22:32:23.814661'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:32:23.814661', '2025-04-06 22:32:23.814661');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:32:23.816944', '2025-04-06 22:32:23.816944', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:32:23.816944', '2025-04-06 22:32:23.816944', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$L/g5C8jy8FU/tgFyp7AZPebobcBzL82TiSOLUVrefNFJzWhEkYr6.', 60, '2025-04-06 22:32:23.822915', '2025-04-06 22:32:23.822915', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$Bs3hyJJjJT2xg7rWmT9ZHeoUmMC6rvV/nsssOfl1COf0pI5Z7W22i', 100, '2025-04-06 22:32:23.822915', '2025-04-06 22:32:23.822915', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 22:32:23.827873', '2025-04-06 22:32:23.827873', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 22:32:23.827873', '2025-04-06 22:32:23.827873', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:32:23.958193"], ["updated_at", "2025-04-06 22:32:23.958193"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 18:32:23 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:37:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:36:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:32:24.162366"], ["updated_at", "2025-04-06 22:32:24.162366"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (1.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.2ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:32:24.181693"], ["updated_at", "2025-04-06 22:32:24.181693"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 18:32:24 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:71:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:70:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:32:24 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:32:24.334345"], ["updated_at", "2025-04-06 22:32:24.334345"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 16ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.7ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:32:24 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:32:24.352674"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 13ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:32:24 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 12ms (ActiveRecord: 0.7ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:35:09.812992', '2025-04-06 22:35:09.812992'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:35:09.812992', '2025-04-06 22:35:09.812992');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:35:09.815604', '2025-04-06 22:35:09.815604', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:35:09.815604', '2025-04-06 22:35:09.815604', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$0aLnMjPXyrHGMacd6/mvGOU0xYhx0cKcOeyrl/TsHC0R8fEm23zqC', 60, '2025-04-06 22:35:09.821509', '2025-04-06 22:35:09.821509', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$5BVSyrnA2THPIu4p7At.FuRxKyZ/2BR.d..Ai94Lkab/.RON3yHfC', 100, '2025-04-06 22:35:09.821509', '2025-04-06 22:35:09.821509', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 22:35:09.826236', '2025-04-06 22:35:09.826236', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 22:35:09.826236', '2025-04-06 22:35:09.826236', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:35:09 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:35:09.994621"], ["updated_at", "2025-04-06 22:35:09.994621"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 18ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:35:10 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 14ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:35:10.028477"], ["updated_at", "2025-04-06 22:35:10.028477"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:35:10.031406"], ["updated_at", "2025-04-06 22:35:10.031406"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 18:35:10 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:71:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:70:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:35:10 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:35:10.163624"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 1.1ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:35:10.177038"], ["updated_at", "2025-04-06 22:35:10.177038"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:35:10 -0400
Processing by CoursesController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  
ActionController::ParameterMissing (param is missing or the value is empty or invalid: course):
  
app/controllers/courses_controller.rb:112:in 'CoursesController#course_params'
app/controllers/courses_controller.rb:75:in 'CoursesController#create'
test/controllers/courses_controller_test.rb:37:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:36:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:35:56.674580', '2025-04-06 22:35:56.674580'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:35:56.674580', '2025-04-06 22:35:56.674580');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:35:56.676850', '2025-04-06 22:35:56.676850', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:35:56.676850', '2025-04-06 22:35:56.676850', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$NrUUqfs57f6cL0yIO38RqeDoS/oKdRvrCEJGB7HR2L5pz.dO0cuEq', 60, '2025-04-06 22:35:56.682816', '2025-04-06 22:35:56.682816', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$uyudWSI/j/1dD8k9dpcqEuMkUFFX7mLzfAJhrqYL21ueczn.B7IiC', 100, '2025-04-06 22:35:56.682816', '2025-04-06 22:35:56.682816', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 22:35:56.688132', '2025-04-06 22:35:56.688132', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 22:35:56.688132', '2025-04-06 22:35:56.688132', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:35:56 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:35:56.842150"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 20ms (ActiveRecord: 0.5ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:35:56.857968"], ["updated_at", "2025-04-06 22:35:56.857968"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:35:56.865267"], ["updated_at", "2025-04-06 22:35:56.865267"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 18:35:56 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:71:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:70:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:35:56.981208"], ["updated_at", "2025-04-06 22:35:56.981208"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 18:35:56 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:37:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:36:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:35:57 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:35:57.098405"], ["updated_at", "2025-04-06 22:35:57.098405"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:35:57 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 19ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.5ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:38:28.052774', '2025-04-06 22:38:28.052774'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:38:28.052774', '2025-04-06 22:38:28.052774');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:38:28.055002', '2025-04-06 22:38:28.055002', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:38:28.055002', '2025-04-06 22:38:28.055002', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$9k/VC2C7GacKv21SyESyweBqQ6KxTqF/SSI38ER2YT19mAbL2otfC', 60, '2025-04-06 22:38:28.060770', '2025-04-06 22:38:28.060770', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$zjIcnwI2UNvtANUobt8VX.pTADvv6oDZVrTrH4OG.i2WVzMaP9u6y', 100, '2025-04-06 22:38:28.060770', '2025-04-06 22:38:28.060770', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 22:38:28.065794', '2025-04-06 22:38:28.065794', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 22:38:28.065794', '2025-04-06 22:38:28.065794', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:38:28 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 26ms (ActiveRecord: 0.5ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:38:28 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:38:28.263028"], ["updated_at", "2025-04-06 22:38:28.263028"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 6ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:38:28.269588"], ["updated_at", "2025-04-06 22:38:28.269588"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 18:38:28 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123457"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/courses_controller.rb:35:in 'CoursesController#enroll'
test/controllers/courses_controller_test.rb:37:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:36:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:38:28.550266"], ["updated_at", "2025-04-06 22:38:28.550266"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:38:28.556604"], ["updated_at", "2025-04-06 22:38:28.556604"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 18:38:28 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:71:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:70:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:38:28 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:38:28.674441"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 13ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.5ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.9ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:40:15.417629', '2025-04-06 22:40:15.417629'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:40:15.417629', '2025-04-06 22:40:15.417629');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:40:15.419839', '2025-04-06 22:40:15.419839', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:40:15.419839', '2025-04-06 22:40:15.419839', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$7Iuibz7h2yVXYw6aWroJV.71Y5JtNs256F8HCxXs8XK1haV98mQXS', 60, '2025-04-06 22:40:15.425678', '2025-04-06 22:40:15.425678', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$q4jPKiFvZzudybpc/IUxheMKCzUQ8PT6SFtPjslBBpE9wTmjma0/a', 100, '2025-04-06 22:40:15.425678', '2025-04-06 22:40:15.425678', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 22:40:15.430363', '2025-04-06 22:40:15.430363', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 22:40:15.430363', '2025-04-06 22:40:15.430363', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.2ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (1.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.3ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.9ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:26:09.028703', '2025-04-06 23:26:09.028703'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:26:09.028703', '2025-04-06 23:26:09.028703');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:26:09.031147', '2025-04-06 23:26:09.031147', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:26:09.031147', '2025-04-06 23:26:09.031147', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$JVLE9nV/sqClbTlq3ounB.CQzuxvOYyWhaO3VebHePLU4KnznSrKC', 60, '2025-04-06 23:26:09.036975', '2025-04-06 23:26:09.036975', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$s0pCAtKjuQDjix92bj61L.8t/p3Zp5Ik1eTTol8aYAPs7Yu72CXsm', 100, '2025-04-06 23:26:09.036975', '2025-04-06 23:26:09.036975', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:26:09.041776', '2025-04-06 23:26:09.041776', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:26:09.041776', '2025-04-06 23:26:09.041776', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:26:09 -0400
CoursesControllerTest - test_should_create_course: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.6ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.6ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:26:09.203888"], ["updated_at", "2025-04-06 23:26:09.203888"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:26:09.221476"], ["updated_at", "2025-04-06 23:26:09.221476"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:26:09 -0400
CoursesControllerTest - test_should_enroll_if_prerequisite_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:26:09 -0400
CoursesControllerTest - test_should_destroy_course: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:26:09.241455"], ["updated_at", "2025-04-06 23:26:09.241455"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:26:09 -0400
CoursesControllerTest - test_should_not_enroll_if_prerequisite_not_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:26:09 -0400
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:26:17.717786', '2025-04-06 23:26:17.717786'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:26:17.717786', '2025-04-06 23:26:17.717786');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:26:17.720209', '2025-04-06 23:26:17.720209', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:26:17.720209', '2025-04-06 23:26:17.720209', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$571Y/efnJglMmKLl3ROjEOX7qHcWptsEl8d9Qn2aUZuhjkaJLJYnq', 60, '2025-04-06 23:26:17.726280', '2025-04-06 23:26:17.726280', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$5wxj3WxisUFVhWoGQIaKaeFAVruKiCc.NM46evvOaLvfMNOpb/zkS', 100, '2025-04-06 23:26:17.726280', '2025-04-06 23:26:17.726280', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:26:17.731155', '2025-04-06 23:26:17.731155', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:26:17.731155', '2025-04-06 23:26:17.731155', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.5ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.2ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (1.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.7ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:26:24.126224', '2025-04-06 23:26:24.126224'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:26:24.126224', '2025-04-06 23:26:24.126224');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:26:24.128712', '2025-04-06 23:26:24.128712', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:26:24.128712', '2025-04-06 23:26:24.128712', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$hBdRO7jF6Y2ZrPSCgUzNh.VTDwX2Zk5Da7YCh9oq41zzyeBqcq.t2', 60, '2025-04-06 23:26:24.134635', '2025-04-06 23:26:24.134635', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$hwkxUAXjjCucs.SZoMiOAevRcq/bvF5yk3C7a4wJmGmqc/HgZe/R.', 100, '2025-04-06 23:26:24.134635', '2025-04-06 23:26:24.134635', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:26:24.139361', '2025-04-06 23:26:24.139361', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:26:24.139361', '2025-04-06 23:26:24.139361', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.2ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (1.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.3ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:26:34.180561', '2025-04-06 23:26:34.180561'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:26:34.180561', '2025-04-06 23:26:34.180561');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:26:34.182791', '2025-04-06 23:26:34.182791', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:26:34.182791', '2025-04-06 23:26:34.182791', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$/zbgFQQdBjQJgYMiLee/6ehLTKHcKXQrH1X45b0Bt9HFY.Ey9Sg92', 60, '2025-04-06 23:26:34.188737', '2025-04-06 23:26:34.188737', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$PhdZfxcXoBgVlw0kQck8zeN8YDba3RIg5adGvB9DxKTykejCcMvuS', 100, '2025-04-06 23:26:34.188737', '2025-04-06 23:26:34.188737', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:26:34.193784', '2025-04-06 23:26:34.193784', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:26:34.193784', '2025-04-06 23:26:34.193784', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:26:34.305587"], ["updated_at", "2025-04-06 23:26:34.305587"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:26:34 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123457"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
Completed 404 Not Found in 10ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/courses_controller.rb:35:in 'CoursesController#enroll'
test/controllers/courses_controller_test.rb:37:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:36:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:26:34.655153"], ["updated_at", "2025-04-06 23:26:34.655153"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:26:34.663008"], ["updated_at", "2025-04-06 23:26:34.663008"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:26:34 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:71:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:70:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:26:34 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 18ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:26:34 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 23:26:34.776653"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:26:34 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 23:26:34.781401"], ["updated_at", "2025-04-06 23:26:34.781401"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:27:03.714456', '2025-04-06 23:27:03.714456'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:27:03.714456', '2025-04-06 23:27:03.714456');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:27:03.717021', '2025-04-06 23:27:03.717021', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:27:03.717021', '2025-04-06 23:27:03.717021', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$NWLrBQbuSpfdlUOfwp61AODHRrE/nPSlM3uJ8AhUh7blT11Ygln8G', 60, '2025-04-06 23:27:03.722955', '2025-04-06 23:27:03.722955', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$XSLH1lESmjhOA04kUVvZIuhnw9.GHiblzCR5J92J65BN/WS2M/0PG', 100, '2025-04-06 23:27:03.722955', '2025-04-06 23:27:03.722955', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:27:03.728068', '2025-04-06 23:27:03.728068', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:27:03.728068', '2025-04-06 23:27:03.728068', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:27:03 -0400
CoursesControllerTest - test_should_destroy_course: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.6ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.6ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:27:03.887690"], ["updated_at", "2025-04-06 23:27:03.887690"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.7ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:27:03.905752"], ["updated_at", "2025-04-06 23:27:03.905752"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:27:03 -0400
CoursesControllerTest - test_should_enroll_if_prerequisite_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:27:03.921753"], ["updated_at", "2025-04-06 23:27:03.921753"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:27:03 -0400
CoursesControllerTest - test_should_not_enroll_if_prerequisite_not_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:27:03 -0400
CoursesControllerTest - test_should_create_course: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:27:03 -0400
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:27:32.620808', '2025-04-06 23:27:32.620808'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:27:32.620808', '2025-04-06 23:27:32.620808');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:27:32.623078', '2025-04-06 23:27:32.623078', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:27:32.623078', '2025-04-06 23:27:32.623078', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$CUMkHKjgN2XuG9FNRps5IeH71BbGi6EM1vV3EES6ROU2HzHdT9lFO', 60, '2025-04-06 23:27:32.628986', '2025-04-06 23:27:32.628986', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$/VBbzSc/Ctucxo8OhNyyquu4TLJBpJpsotjbCh5Mc9FTskQBONd5S', 100, '2025-04-06 23:27:32.628986', '2025-04-06 23:27:32.628986', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:27:32.633747', '2025-04-06 23:27:32.633747', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:27:32.633747', '2025-04-06 23:27:32.633747', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:27:32 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 23:27:32.802714"], ["updated_at", "2025-04-06 23:27:32.802714"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 18ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:27:32.821231"], ["updated_at", "2025-04-06 23:27:32.821231"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:27:32.830518"], ["updated_at", "2025-04-06 23:27:32.830518"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:27:32 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:71:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:70:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:27:32 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 9ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.6ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:27:32 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 23:27:32.972666"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 1.1ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.6ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:27:32.985364"], ["updated_at", "2025-04-06 23:27:32.985364"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:27:32 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123457"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/courses_controller.rb:35:in 'CoursesController#enroll'
test/controllers/courses_controller_test.rb:37:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:36:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:29:15.467676', '2025-04-06 23:29:15.467676'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:29:15.467676', '2025-04-06 23:29:15.467676');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:29:15.470234', '2025-04-06 23:29:15.470234', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:29:15.470234', '2025-04-06 23:29:15.470234', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$JmyshW7f1qvCgQbQlwtmzedE4Ag8FlnTbyRY5dp88jjxUXDj5F2d2', 60, '2025-04-06 23:29:15.476238', '2025-04-06 23:29:15.476238', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$L7nEzBMrk053twHi4xy/Z.dRW1CD2SGazWRr8G31WnXKz4lUfw8lC', 100, '2025-04-06 23:29:15.476238', '2025-04-06 23:29:15.476238', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:29:15.480931', '2025-04-06 23:29:15.480931', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:29:15.480931', '2025-04-06 23:29:15.480931', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.2ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.9ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:29:50.712970', '2025-04-06 23:29:50.712970'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:29:50.712970', '2025-04-06 23:29:50.712970');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:29:50.715581', '2025-04-06 23:29:50.715581', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:29:50.715581', '2025-04-06 23:29:50.715581', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$Qa7DAAKn/EjqDDHQWiyA1OigGC05k9dRYXurEHsJmu80KFbwPeXJm', 60, '2025-04-06 23:29:50.721540', '2025-04-06 23:29:50.721540', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$qJT0/s56scbUzOV.z3CZdOg.eCrOPk8LilkazhE00EPce0BhskrIi', 100, '2025-04-06 23:29:50.721540', '2025-04-06 23:29:50.721540', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:29:50.726363', '2025-04-06 23:29:50.726363', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:29:50.726363', '2025-04-06 23:29:50.726363', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:29:50.852914"], ["updated_at", "2025-04-06 23:29:50.852914"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:29:50 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123457"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
Completed 404 Not Found in 10ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/courses_controller.rb:35:in 'CoursesController#enroll'
test/controllers/courses_controller_test.rb:37:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:36:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:29:51 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 23:29:51.205576"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 13ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:29:51 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 23:29:51.219567"], ["updated_at", "2025-04-06 23:29:51.219567"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:29:51.222639"], ["updated_at", "2025-04-06 23:29:51.222639"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:29:51.230639"], ["updated_at", "2025-04-06 23:29:51.230639"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:29:51 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:71:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:70:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:29:51 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 9ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:30:24.955048', '2025-04-06 23:30:24.955048'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:30:24.955048', '2025-04-06 23:30:24.955048');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:30:24.957575', '2025-04-06 23:30:24.957575', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:30:24.957575', '2025-04-06 23:30:24.957575', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$SRwkFFnDtVSxF6ac/Im4f.qSPpEUpxhCGyD.UYbuRFqSiwaJUHhjG', 60, '2025-04-06 23:30:24.963967', '2025-04-06 23:30:24.963967', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$vHwNU5z9n441TeO60omlzOU4QD7L1G0ItnP6d5gHok0F2TfchQlYC', 100, '2025-04-06 23:30:24.963967', '2025-04-06 23:30:24.963967', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:30:24.968889', '2025-04-06 23:30:24.968889', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:30:24.968889', '2025-04-06 23:30:24.968889', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:30:25.110978"], ["updated_at", "2025-04-06 23:30:25.110978"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.8ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.2ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:30:25.124692"], ["updated_at", "2025-04-06 23:30:25.124692"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:30:25 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123458"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
Completed 404 Not Found in 6ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/courses_controller.rb:35:in 'CoursesController#enroll'
test/controllers/courses_controller_test.rb:168:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:167:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:30:25 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 15ms (ActiveRecord: 0.3ms (4 queries, 1 cached) | GC: 0.4ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:30:25 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 23:30:25.473757"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:30:25 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 23:30:25.480041"], ["updated_at", "2025-04-06 23:30:25.480041"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 1.0ms (2 queries, 0 cached) | GC: 0.9ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:30:25.483531"], ["updated_at", "2025-04-06 23:30:25.483531"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:30:25 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123457"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/courses_controller.rb:35:in 'CoursesController#enroll'
test/controllers/courses_controller_test.rb:135:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:134:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:34:07.034723', '2025-04-06 23:34:07.034723'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:34:07.034723', '2025-04-06 23:34:07.034723');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:34:07.037149', '2025-04-06 23:34:07.037149', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:34:07.037149', '2025-04-06 23:34:07.037149', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$WqjrC6KIaKTMjgfUOint3uJb2HXujco7dDo9dl8K4nL.5Z0YJvomy', 60, '2025-04-06 23:34:07.043027', '2025-04-06 23:34:07.043027', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$nGs0RlJZUnElrEhOo.crxuEqXKIqyvTBTbspsTMmaoRLBjtH2BfLi', 100, '2025-04-06 23:34:07.043027', '2025-04-06 23:34:07.043027', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:34:07.047699', '2025-04-06 23:34:07.047699', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:34:07.047699', '2025-04-06 23:34:07.047699', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.8ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:34:07.190515"], ["updated_at", "2025-04-06 23:34:07.190515"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:34:07 -0400
CoursesControllerTest - test_should_not_enroll_if_prerequisite_not_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:34:07 -0400
CoursesControllerTest - test_should_create_course: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:34:07.231508"], ["updated_at", "2025-04-06 23:34:07.231508"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:34:07.234771"], ["updated_at", "2025-04-06 23:34:07.234771"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:34:07 -0400
CoursesControllerTest - test_should_enroll_if_prerequisite_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:34:07 -0400
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:34:07 -0400
CoursesControllerTest - test_should_destroy_course: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.7ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:34:18.673420', '2025-04-06 23:34:18.673420'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:34:18.673420', '2025-04-06 23:34:18.673420');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:34:18.675885', '2025-04-06 23:34:18.675885', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:34:18.675885', '2025-04-06 23:34:18.675885', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$3rPZETQ06jLNYyFKRs9bsOa7R62iLbYvdETH2SjMhWYEfCQxpTuEG', 60, '2025-04-06 23:34:18.682045', '2025-04-06 23:34:18.682045', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$ydNK1izAO1sifjIYDT6WdeqGtCqgg4LMokA5ksO5XJKvxpmQh5vDO', 100, '2025-04-06 23:34:18.682045', '2025-04-06 23:34:18.682045', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:34:18.686887', '2025-04-06 23:34:18.686887', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:34:18.686887', '2025-04-06 23:34:18.686887', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:34:18.817961"], ["updated_at", "2025-04-06 23:34:18.817961"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.8ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.2ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:34:18.831795"], ["updated_at", "2025-04-06 23:34:18.831795"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:34:18 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123458"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
Completed 404 Not Found in 6ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/courses_controller.rb:35:in 'CoursesController#enroll'
test/controllers/courses_controller_test.rb:168:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:167:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:34:19 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 14ms (ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:34:19 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 23:34:19.182377"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:34:19.186901"], ["updated_at", "2025-04-06 23:34:19.186901"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:34:19 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123457"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/courses_controller.rb:35:in 'CoursesController#enroll'
test/controllers/courses_controller_test.rb:135:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:134:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:34:19 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 23:34:19.426382"], ["updated_at", "2025-04-06 23:34:19.426382"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:35:10.871999', '2025-04-06 23:35:10.871999'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:35:10.871999', '2025-04-06 23:35:10.871999');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:35:10.874235', '2025-04-06 23:35:10.874235', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:35:10.874235', '2025-04-06 23:35:10.874235', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$jx.YNeAddFbSMbP4axBJkuq8hPDSl8e69/4o1x0yWiyHTG4U9Q1gO', 60, '2025-04-06 23:35:10.880401', '2025-04-06 23:35:10.880401', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$661eUN33601wMk7OxRAmv.OHirUGFnYhK8MZzbwFytltmoBdgsuy6', 100, '2025-04-06 23:35:10.880401', '2025-04-06 23:35:10.880401', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:35:10.885117', '2025-04-06 23:35:10.885117', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:35:10.885117', '2025-04-06 23:35:10.885117', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.2ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.3ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:35:10.995836"], ["updated_at", "2025-04-06 23:35:10.995836"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_not_enroll_if_prerequisite_not_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.9ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.3ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:35:11.018521"], ["updated_at", "2025-04-06 23:35:11.018521"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:35:11.028509"], ["updated_at", "2025-04-06 23:35:11.028509"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_enroll_if_prerequisite_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
CoursesControllerTest - test_should_create_course: NameError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
CoursesControllerTest - test_should_destroy_course: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:37:51.532737', '2025-04-06 23:37:51.532737'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:37:51.532737', '2025-04-06 23:37:51.532737');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:37:51.535310', '2025-04-06 23:37:51.535310', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:37:51.535310', '2025-04-06 23:37:51.535310', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$Do7cC.uP6V1GH9B1Z/faPep8GyGnKm0FqkUbGnV0GS5omy84D5gKK', 60, '2025-04-06 23:37:51.541279', '2025-04-06 23:37:51.541279', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$IiHwkdovQjSfbr.frZU.0e7vpxrtUz9xDeVrc1H7XKfdL8XxS9FIq', 100, '2025-04-06 23:37:51.541279', '2025-04-06 23:37:51.541279', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:37:51.546073', '2025-04-06 23:37:51.546073', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:37:51.546073', '2025-04-06 23:37:51.546073', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.2ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.3ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:37:51.656107"], ["updated_at", "2025-04-06 23:37:51.656107"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.2ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:37:51.671184"], ["updated_at", "2025-04-06 23:37:51.671184"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_enroll_if_prerequisite_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.8ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.8ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:37:51.694594"], ["updated_at", "2025-04-06 23:37:51.694594"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_not_enroll_if_prerequisite_not_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
CoursesControllerTest - test_should_destroy_course: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:38:28.288522', '2025-04-06 23:38:28.288522'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:38:28.288522', '2025-04-06 23:38:28.288522');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:38:28.290812', '2025-04-06 23:38:28.290812', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:38:28.290812', '2025-04-06 23:38:28.290812', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$DoPbL1aeglEnqpzz60fDNu6Mxq0ES4RxKJGHrYoahehWy4owkve3C', 60, '2025-04-06 23:38:28.296826', '2025-04-06 23:38:28.296826', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$gCzMYxnCTffjaL36lHyUguB9JNtrYM8YVorEKOzBd7FQA2SErKguC', 100, '2025-04-06 23:38:28.296826', '2025-04-06 23:38:28.296826', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:38:28.301580', '2025-04-06 23:38:28.301580', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:38:28.301580', '2025-04-06 23:38:28.301580', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.2ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.3ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:38:28.410970"], ["updated_at", "2025-04-06 23:38:28.410970"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_not_enroll_if_prerequisite_not_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (1.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.3ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:38:28.433684"], ["updated_at", "2025-04-06 23:38:28.433684"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:38:28.443509"], ["updated_at", "2025-04-06 23:38:28.443509"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_enroll_if_prerequisite_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
CoursesControllerTest - test_should_create_course: NameError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
CoursesControllerTest - test_should_destroy_course: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:38:59.349634', '2025-04-06 23:38:59.349634'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:38:59.349634', '2025-04-06 23:38:59.349634');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:38:59.351922', '2025-04-06 23:38:59.351922', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:38:59.351922', '2025-04-06 23:38:59.351922', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$NVc7CyAK2jlkwG.3.wmFweh7XsmZIWjbSldNpASID0LXqnDSHBhrO', 60, '2025-04-06 23:38:59.357838', '2025-04-06 23:38:59.357838', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$ceAOOYlxtMsRW8pWGeXlLesyCFYSeQTRZALqG0dYCgYpAjmZBBtxO', 100, '2025-04-06 23:38:59.357838', '2025-04-06 23:38:59.357838', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:38:59.362555', '2025-04-06 23:38:59.362555', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:38:59.362555', '2025-04-06 23:38:59.362555', NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.2ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.3ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:38:59.472184"], ["updated_at", "2025-04-06 23:38:59.472184"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.2ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:38:59.487129"], ["updated_at", "2025-04-06 23:38:59.487129"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_enroll_if_prerequisite_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.8ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.7ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
CoursesControllerTest - test_should_create_course: NameError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
CoursesControllerTest - test_should_destroy_course: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:39:25.678511', '2025-04-06 23:39:25.678511'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:39:25.678511', '2025-04-06 23:39:25.678511');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:39:25.680729', '2025-04-06 23:39:25.680729', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:39:25.680729', '2025-04-06 23:39:25.680729', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$4U140gm7mwXBMfLrpuNlP.GapB8mfmbZdU76KYWHqSWpIEqP68B3q', 60, '2025-04-06 23:39:25.686921', '2025-04-06 23:39:25.686921', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$IN9mmx74nncgFP1ZODgaSuLZx10yBoSEtJdZmnvtLOTZgskn.qCp2', 100, '2025-04-06 23:39:25.686921', '2025-04-06 23:39:25.686921', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:39:25.691871', '2025-04-06 23:39:25.691871', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:39:25.691871', '2025-04-06 23:39:25.691871', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.2ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.7ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (1.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:39:51.446125', '2025-04-06 23:39:51.446125'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:39:51.446125', '2025-04-06 23:39:51.446125');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:39:51.448577', '2025-04-06 23:39:51.448577', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:39:51.448577', '2025-04-06 23:39:51.448577', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$N5.7XMiuojqU0nNHjFaCee7V/e36tAHzCVeS9OLqUsvR86Wu9AnLW', 60, '2025-04-06 23:39:51.454715', '2025-04-06 23:39:51.454715', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$/t879SVJXHxLsrpwH6xhEuGllVf8QyvZue3iNOUPjMktgJkx2glI.', 100, '2025-04-06 23:39:51.454715', '2025-04-06 23:39:51.454715', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:39:51.459615', '2025-04-06 23:39:51.459615', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:39:51.459615', '2025-04-06 23:39:51.459615', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.2ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.6ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (1.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:40:10.569791', '2025-04-06 23:40:10.569791'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:40:10.569791', '2025-04-06 23:40:10.569791');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:40:10.572355', '2025-04-06 23:40:10.572355', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:40:10.572355', '2025-04-06 23:40:10.572355', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$pZdM896k8O4WkEA3suDCfOCH6cYCHO55f0DwMODlSUcUrZyZn4ZNm', 60, '2025-04-06 23:40:10.578365', '2025-04-06 23:40:10.578365', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$ZL6xE/chIj5q1gzpYBhPnuuDqrPt5OPwjVJTXS0euRgpr5T47BcOS', 100, '2025-04-06 23:40:10.578365', '2025-04-06 23:40:10.578365', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:40:10.583110', '2025-04-06 23:40:10.583110', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:40:10.583110', '2025-04-06 23:40:10.583110', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.3ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
CoursesControllerTest - test_should_create_course: NameError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:40:10.695878"], ["updated_at", "2025-04-06 23:40:10.695878"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:40:10.713532"], ["updated_at", "2025-04-06 23:40:10.713532"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_enroll_if_prerequisite_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:40:10.726447"], ["updated_at", "2025-04-06 23:40:10.726447"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_not_enroll_if_prerequisite_not_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:42:19.456213', '2025-04-06 23:42:19.456213'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:42:19.456213', '2025-04-06 23:42:19.456213');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:42:19.458431', '2025-04-06 23:42:19.458431', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:42:19.458431', '2025-04-06 23:42:19.458431', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$W97yU6dadh2XBZg6Dm00juvgUU2pZT1/v7KSnAPU0F5T9GJsFltDO', 60, '2025-04-06 23:42:19.464244', '2025-04-06 23:42:19.464244', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$9hxIQJUqKAUwRfFjMxwQF.IykzMkpEpX7wSLxafsI4wD0OgkfW5ee', 100, '2025-04-06 23:42:19.464244', '2025-04-06 23:42:19.464244', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:42:19.469351', '2025-04-06 23:42:19.469351', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:42:19.469351', '2025-04-06 23:42:19.469351', NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.2ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.3ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:42:19.578206"], ["updated_at", "2025-04-06 23:42:19.578206"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.2ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:42:19.593179"], ["updated_at", "2025-04-06 23:42:19.593179"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_enroll_if_prerequisite_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.8ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.7ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
CoursesControllerTest - test_should_create_course: NameError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:42:19.620281"], ["updated_at", "2025-04-06 23:42:19.620281"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_not_enroll_if_prerequisite_not_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:43:07.236255', '2025-04-06 23:43:07.236255'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:43:07.236255', '2025-04-06 23:43:07.236255');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:43:07.238875', '2025-04-06 23:43:07.238875', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:43:07.238875', '2025-04-06 23:43:07.238875', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$IJdxpZbHAsQlkrNZtXxY8.JLa08.vECua0uE.XnFzrttlDgtNexfa', 60, '2025-04-06 23:43:07.244852', '2025-04-06 23:43:07.244852', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$8UdKSmt3Q3xd/VZlKtGX4.2QfyqFCLqTzWbTrGcuFmker6u8Zt9WW', 100, '2025-04-06 23:43:07.244852', '2025-04-06 23:43:07.244852', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:43:07.249634', '2025-04-06 23:43:07.249634', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:43:07.249634', '2025-04-06 23:43:07.249634', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:43:07 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 23:43:07.412591"], ["updated_at", "2025-04-06 23:43:07.412591"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 18ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:43:07 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 13ms (ActiveRecord: 0.2ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:43:07 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 23:43:07.446927"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:43:07.449514"], ["updated_at", "2025-04-06 23:43:07.449514"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:43:07.452990"], ["updated_at", "2025-04-06 23:43:07.452990"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:43:07 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:99:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:98:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:43:07.590778"], ["updated_at", "2025-04-06 23:43:07.590778"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:43:07 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:37:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:36:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.6ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:43:34.353709', '2025-04-06 23:43:34.353709'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:43:34.353709', '2025-04-06 23:43:34.353709');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:43:34.355955', '2025-04-06 23:43:34.355955', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:43:34.355955', '2025-04-06 23:43:34.355955', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$WcTLlCswnmvnrYJEqzqoU.3X.NSNc65nZYN5vyCEJmdM2SiPU1TNK', 60, '2025-04-06 23:43:34.361978', '2025-04-06 23:43:34.361978', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$Eg0CjmXM5/JKeiBQYvKH6.Ig0Linsxk9WARMSxGNPEjFGxYK6SweS', 100, '2025-04-06 23:43:34.361978', '2025-04-06 23:43:34.361978', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:43:34.367021', '2025-04-06 23:43:34.367021', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:43:34.367021', '2025-04-06 23:43:34.367021', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:43:34 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 23:43:34.544078"], ["updated_at", "2025-04-06 23:43:34.544078"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 19ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.3ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:43:34 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 23:43:34.570377"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:43:34 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 8ms (ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:43:34.585209"], ["updated_at", "2025-04-06 23:43:34.585209"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:43:34.589528"], ["updated_at", "2025-04-06 23:43:34.589528"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:43:34 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123458"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/courses_controller.rb:35:in 'CoursesController#enroll'
test/controllers/courses_controller_test.rb:82:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:81:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:43:34.861167"], ["updated_at", "2025-04-06 23:43:34.861167"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:43:34 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123457"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/courses_controller.rb:35:in 'CoursesController#enroll'
test/controllers/courses_controller_test.rb:49:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:48:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:45:03.925092', '2025-04-06 23:45:03.925092'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:45:03.925092', '2025-04-06 23:45:03.925092');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:45:03.927655', '2025-04-06 23:45:03.927655', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:45:03.927655', '2025-04-06 23:45:03.927655', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$AScTqTtsj5T8fJXJGlX2duShQ2oHeZVO6HiwKj2HBigeAzY.lSlJq', 60, '2025-04-06 23:45:03.933494', '2025-04-06 23:45:03.933494', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$zC.H9pYYsLUkLkr3V24j0eFtwge7FaRd3wKFTcMmrhZ9U//XC07i2', 100, '2025-04-06 23:45:03.933494', '2025-04-06 23:45:03.933494', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:45:03.938326', '2025-04-06 23:45:03.938326', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:45:03.938326', '2025-04-06 23:45:03.938326', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:45:04 -0400
CoursesControllerTest - test_should_create_course: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.6ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.6ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:45:04.100673"], ["updated_at", "2025-04-06 23:45:04.100673"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:45:04 -0400
CoursesControllerTest - test_should_not_enroll_if_prerequisite_not_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.7ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:45:04 -0400
CoursesControllerTest - test_should_destroy_course: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:45:04 -0400
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:45:04.139898"], ["updated_at", "2025-04-06 23:45:04.139898"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:45:04.144941"], ["updated_at", "2025-04-06 23:45:04.144941"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:45:04 -0400
CoursesControllerTest - test_should_enroll_if_prerequisite_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.8ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:45:11.672490', '2025-04-06 23:45:11.672490'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:45:11.672490', '2025-04-06 23:45:11.672490');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:45:11.675125', '2025-04-06 23:45:11.675125', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:45:11.675125', '2025-04-06 23:45:11.675125', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$VAnNl31sMjnUsbY6wMeIdeZw5A0UJTWcaMGpAaOT0pSrMe5xAFibe', 60, '2025-04-06 23:45:11.681193', '2025-04-06 23:45:11.681193', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$CkeOMUIsimAQJW5tWBgYS.6fnRDxdSWqt65c6/.QAROStY.e7PwP6', 100, '2025-04-06 23:45:11.681193', '2025-04-06 23:45:11.681193', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:45:11.686105', '2025-04-06 23:45:11.686105', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:45:11.686105', '2025-04-06 23:45:11.686105', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:45:11 -0400
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.2ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.6ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:45:11.838973"], ["updated_at", "2025-04-06 23:45:11.838973"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:45:11 -0400
CoursesControllerTest - test_should_not_enroll_if_prerequisite_not_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.8ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:45:11 -0400
CoursesControllerTest - test_should_create_course: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:45:11.872708"], ["updated_at", "2025-04-06 23:45:11.872708"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:45:11.877984"], ["updated_at", "2025-04-06 23:45:11.877984"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:45:11 -0400
CoursesControllerTest - test_should_enroll_if_prerequisite_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:45:11 -0400
CoursesControllerTest - test_should_destroy_course: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:45:24.493650', '2025-04-06 23:45:24.493650'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:45:24.493650', '2025-04-06 23:45:24.493650');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:45:24.496185', '2025-04-06 23:45:24.496185', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:45:24.496185', '2025-04-06 23:45:24.496185', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$.WuSPQhqzQc6PkAQJZ/qsuPZBL48LcDUhxWCSOFqBOc.PwYrK5a6O', 60, '2025-04-06 23:45:24.502395', '2025-04-06 23:45:24.502395', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$Oao9uBvET2JLKIQpZodXT.9rYOTnjY2iVyr3RsIS639ETcuemjGvK', 100, '2025-04-06 23:45:24.502395', '2025-04-06 23:45:24.502395', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:45:24.507375', '2025-04-06 23:45:24.507375', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:45:24.507375', '2025-04-06 23:45:24.507375', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:45:24.619581"], ["updated_at", "2025-04-06 23:45:24.619581"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:45:24.648544"], ["updated_at", "2025-04-06 23:45:24.648544"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:45:24 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:99:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:98:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:45:24 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 23:45:24.870166"], ["updated_at", "2025-04-06 23:45:24.870166"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 17ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.7ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:45:24 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.1ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 23:45:24.891608"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 14ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:45:24 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 16ms (ActiveRecord: 0.7ms (6 queries, 1 cached) | GC: 1.1ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.6ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:46:17.651585', '2025-04-06 23:46:17.651585'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:46:17.651585', '2025-04-06 23:46:17.651585');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:46:17.654169', '2025-04-06 23:46:17.654169', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:46:17.654169', '2025-04-06 23:46:17.654169', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$Kt2a6GF73g7WK/F0JHYFdOXNF1/bxNCi67pOFreu4hkMoCmKLqnCa', 60, '2025-04-06 23:46:17.660379', '2025-04-06 23:46:17.660379', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$JGnaEg5DSQnL54JkBzlzM.TFO4WOoCzN.meJWcIOqz/RCeNyu2aIa', 100, '2025-04-06 23:46:17.660379', '2025-04-06 23:46:17.660379', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:46:17.665264', '2025-04-06 23:46:17.665264', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:46:17.665264', '2025-04-06 23:46:17.665264', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:46:17 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 23:46:17.824699"], ["updated_at", "2025-04-06 23:46:17.824699"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 18ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:46:17 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 13ms (ActiveRecord: 0.4ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:46:17.857668"], ["updated_at", "2025-04-06 23:46:17.857668"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:46:17.860347"], ["updated_at", "2025-04-06 23:46:17.860347"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:46:17 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:99:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:98:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:46:17 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 23:46:17.981345"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:46:17.994117"], ["updated_at", "2025-04-06 23:46:17.994117"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:46:18 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:66:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:65:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.6ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:49:53.841769', '2025-04-06 23:49:53.841769'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:49:53.841769', '2025-04-06 23:49:53.841769');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:49:53.844285', '2025-04-06 23:49:53.844285', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:49:53.844285', '2025-04-06 23:49:53.844285', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$rvUuNI/CaMKasb.g496u5u5dfOMkID3ZkVRb7XbsNiU3CJye.AE7K', 60, '2025-04-06 23:49:53.850062', '2025-04-06 23:49:53.850062', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$wuqtF.yAwocPp5R2HOhYTOMElDeN42iiEvmnD5Ay8el9/br9eGS2q', 100, '2025-04-06 23:49:53.850062', '2025-04-06 23:49:53.850062', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:49:53.855334', '2025-04-06 23:49:53.855334', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:49:53.855334', '2025-04-06 23:49:53.855334', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:49:53 -0400
CoursesControllerTest - test_should_destroy_course: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.6ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.5ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:49:54.017202"], ["updated_at", "2025-04-06 23:49:54.017202"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:49:54 -0400
CoursesControllerTest - test_should_not_enroll_if_prerequisite_not_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.6ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:49:54 -0400
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:49:54.054157"], ["updated_at", "2025-04-06 23:49:54.054157"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:49:54.059383"], ["updated_at", "2025-04-06 23:49:54.059383"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:49:54 -0400
CoursesControllerTest - test_should_enroll_if_prerequisite_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:49:54 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 23:49:54.087614"], ["updated_at", "2025-04-06 23:49:54.087614"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 14ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:50:18.590183', '2025-04-06 23:50:18.590183'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:50:18.590183', '2025-04-06 23:50:18.590183');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:50:18.592410', '2025-04-06 23:50:18.592410', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:50:18.592410', '2025-04-06 23:50:18.592410', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$RTG3JO9h3c2v4bttxF.oB.nySKQRGN3WvfO.ArUie1q7sZ1KmS/JS', 60, '2025-04-06 23:50:18.598577', '2025-04-06 23:50:18.598577', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$nmig2aJBsR3kuax3RfMcF.rKfhs3MNOGQik.m5XnMKmiKMX22sVa2', 100, '2025-04-06 23:50:18.598577', '2025-04-06 23:50:18.598577', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:50:18.603508', '2025-04-06 23:50:18.603508', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:50:18.603508', '2025-04-06 23:50:18.603508', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:50:18 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 26ms (ActiveRecord: 0.5ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:50:18.782625"], ["updated_at", "2025-04-06 23:50:18.782625"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:50:18 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:37:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:36:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:50:18 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 23:50:18.919073"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:50:18.923042"], ["updated_at", "2025-04-06 23:50:18.923042"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:50:18.927984"], ["updated_at", "2025-04-06 23:50:18.927984"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:50:18 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:70:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:69:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:50:19 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 23:50:19.051648"], ["updated_at", "2025-04-06 23:50:19.051648"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 6ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.1ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.7ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:51:56.697908', '2025-04-06 23:51:56.697908'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:51:56.697908', '2025-04-06 23:51:56.697908');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:51:56.700535', '2025-04-06 23:51:56.700535', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:51:56.700535', '2025-04-06 23:51:56.700535', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$NWLAaoE5Clzbzp8sPb7vv.ZVFcLoWiyZCkNywT8Bx35x87K9m0.Na', 60, '2025-04-06 23:51:56.706417', '2025-04-06 23:51:56.706417', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$cPoXi6R3svltU52xbuCyvuq1vV5xg15vTbkABPsExBXm2ojz2Vwau', 100, '2025-04-06 23:51:56.706417', '2025-04-06 23:51:56.706417', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:51:56.711146', '2025-04-06 23:51:56.711146', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:51:56.711146', '2025-04-06 23:51:56.711146', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:51:56 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 25ms (ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:51:56 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 23:51:56.934183"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:51:56.940467"], ["updated_at", "2025-04-06 23:51:56.940467"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:51:56 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123457"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/courses_controller.rb:35:in 'CoursesController#enroll'
test/controllers/courses_controller_test.rb:32:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:31:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.7ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:51:57.229150"], ["updated_at", "2025-04-06 23:51:57.229150"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:51:57.232172"], ["updated_at", "2025-04-06 23:51:57.232172"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:51:57 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:65:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:64:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:52:38.233578', '2025-04-06 23:52:38.233578'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:52:38.233578', '2025-04-06 23:52:38.233578');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:52:38.235855', '2025-04-06 23:52:38.235855', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:52:38.235855', '2025-04-06 23:52:38.235855', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$Z3ExB4ThjycwYR9SEca74.lA5b9rJqIwRazsiWOFDNzRI1A292QuC', 60, '2025-04-06 23:52:38.242046', '2025-04-06 23:52:38.242046', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$Gph8gA78rZChqYOCG60SH.EDud.d0pw6TXj5le6sU5XGntR3ijdCS', 100, '2025-04-06 23:52:38.242046', '2025-04-06 23:52:38.242046', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:52:38.247081', '2025-04-06 23:52:38.247081', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:52:38.247081', '2025-04-06 23:52:38.247081', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:52:38.379936"], ["updated_at", "2025-04-06 23:52:38.379936"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:52:38 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:34:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:33:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (1.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:52:38 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 20ms (ActiveRecord: 0.7ms (4 queries, 1 cached) | GC: 0.5ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:52:38 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 23:52:38.611640"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 6ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 1.2ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:52:38.617423"], ["updated_at", "2025-04-06 23:52:38.617423"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:52:38.620382"], ["updated_at", "2025-04-06 23:52:38.620382"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:52:38 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:67:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:66:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:53:22.565713', '2025-04-06 23:53:22.565713'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:53:22.565713', '2025-04-06 23:53:22.565713');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:53:22.568325', '2025-04-06 23:53:22.568325', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:53:22.568325', '2025-04-06 23:53:22.568325', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$RhH8lpUA0iSr4ZWQyvrKYuw.SpIzuOl9xXn7.1ke1.pUF1I/Uc.t2', 60, '2025-04-06 23:53:22.574239', '2025-04-06 23:53:22.574239', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$L5UrNRrJnqVBJJqVKE4vF.v00GQHdZ71f0dv1aCw64YO8kCW7sUEK', 100, '2025-04-06 23:53:22.574239', '2025-04-06 23:53:22.574239', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:53:22.579426', '2025-04-06 23:53:22.579426', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:53:22.579426', '2025-04-06 23:53:22.579426', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:53:22.712520"], ["updated_at", "2025-04-06 23:53:22.712520"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:53:22 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123457"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
Completed 404 Not Found in 5ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/courses_controller.rb:35:in 'CoursesController#enroll'
test/controllers/courses_controller_test.rb:32:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:31:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:53:23.020853"], ["updated_at", "2025-04-06 23:53:23.020853"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:53:23.024882"], ["updated_at", "2025-04-06 23:53:23.024882"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:53:23 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:66:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:65:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:53:23 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 23:53:23.125128"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 11ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.6ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:53:23 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:54:46.805936', '2025-04-06 23:54:46.805936'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:54:46.805936', '2025-04-06 23:54:46.805936');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:54:46.808225', '2025-04-06 23:54:46.808225', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:54:46.808225', '2025-04-06 23:54:46.808225', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$iqvfW/6ZdlCEA0JjZFEn/OoQ6hWGnQg0F82qWPSPVWCPWf9xQcdOK', 60, '2025-04-06 23:54:46.814267', '2025-04-06 23:54:46.814267', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$5vpfszoyuDSPjvAQd2jLf.rc6v2CjoA8XxqtOoDg2q5gkmca9oVha', 100, '2025-04-06 23:54:46.814267', '2025-04-06 23:54:46.814267', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:54:46.819990', '2025-04-06 23:54:46.819990', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:54:46.819990', '2025-04-06 23:54:46.819990', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:54:46 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 23:54:47.017806"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 26ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:54:47 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 23:54:47.038629"], ["updated_at", "2025-04-06 23:54:47.038629"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:54:47 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 10ms (ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:54:47.058315"], ["updated_at", "2025-04-06 23:54:47.058315"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:54:47.062914"], ["updated_at", "2025-04-06 23:54:47.062914"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:54:47 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:74:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:73:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:54:47.195730"], ["updated_at", "2025-04-06 23:54:47.195730"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:54:47 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:56:10.125748', '2025-04-06 23:56:10.125748'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:56:10.125748', '2025-04-06 23:56:10.125748');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:56:10.128133', '2025-04-06 23:56:10.128133', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:56:10.128133', '2025-04-06 23:56:10.128133', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$qx.QHTbWkCVNncpKZcUI5.458WBlMpCNlDEfzQ2pRRk7lNsUWsCY6', 60, '2025-04-06 23:56:10.134047', '2025-04-06 23:56:10.134047', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$iQSri5zw0rWOUfDYmMJv0uqhaCNf63NI91dc3ABgCOWzbA7v1MdyG', 100, '2025-04-06 23:56:10.134047', '2025-04-06 23:56:10.134047', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:56:10.138725', '2025-04-06 23:56:10.138725', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:56:10.138725', '2025-04-06 23:56:10.138725', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:56:10 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.1ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 23:56:10.335646"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 29ms (ActiveRecord: 0.3ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:56:10 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 10ms (ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:56:10.369627"], ["updated_at", "2025-04-06 23:56:10.369627"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:56:10.374809"], ["updated_at", "2025-04-06 23:56:10.374809"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:56:10 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:74:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:73:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.6ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:56:10.504624"], ["updated_at", "2025-04-06 23:56:10.504624"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:56:10 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:56:10 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 23:56:10.623222"], ["updated_at", "2025-04-06 23:56:10.623222"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:57:31.161473', '2025-04-06 23:57:31.161473'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:57:31.161473', '2025-04-06 23:57:31.161473');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:57:31.163660', '2025-04-06 23:57:31.163660', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:57:31.163660', '2025-04-06 23:57:31.163660', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$u8TOJWjJjc/4x6yFL1d0o.prCX4EmAUGsfbq0i4Fe0WnWlGnILsvq', 60, '2025-04-06 23:57:31.169790', '2025-04-06 23:57:31.169790', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$aomoOSg8/4441YAHlDUTIulWBh.pLEvvSk1TjTsCMQh19GsT48uK6', 100, '2025-04-06 23:57:31.169790', '2025-04-06 23:57:31.169790', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:57:31.174499', '2025-04-06 23:57:31.174499', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:57:31.174499', '2025-04-06 23:57:31.174499', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:57:31.315807"], ["updated_at", "2025-04-06 23:57:31.315807"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.8ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.2ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:57:31.329923"], ["updated_at", "2025-04-06 23:57:31.329923"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:57:31 -0400
CoursesControllerTest - test_should_enroll_if_prerequisite_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:57:31 -0400
CoursesControllerTest - test_should_create_course: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:57:31.366660"], ["updated_at", "2025-04-06 23:57:31.366660"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:57:31 -0400
CoursesControllerTest - test_should_not_enroll_if_prerequisite_not_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:57:31 -0400
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:57:31 -0400
CoursesControllerTest - test_should_destroy_course: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:57:38.693316', '2025-04-06 23:57:38.693316'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:57:38.693316', '2025-04-06 23:57:38.693316');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:57:38.695910', '2025-04-06 23:57:38.695910', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:57:38.695910', '2025-04-06 23:57:38.695910', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$EPEBtXddNYQzcoygkukLuOjHrlb3zRaOnv65HB0aP1CcePvwr/FWa', 60, '2025-04-06 23:57:38.701844', '2025-04-06 23:57:38.701844', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$o9o36sq6EVhdp1pximD6We.4MjSh1YguS190GT4eWEltjYtUSMRsO', 100, '2025-04-06 23:57:38.701844', '2025-04-06 23:57:38.701844', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:57:38.706611', '2025-04-06 23:57:38.706611', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:57:38.706611', '2025-04-06 23:57:38.706611', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:57:38.846516"], ["updated_at", "2025-04-06 23:57:38.846516"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.9ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.2ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:57:38.861083"], ["updated_at", "2025-04-06 23:57:38.861083"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:57:38 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:74:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:73:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.9ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:57:39.060835"], ["updated_at", "2025-04-06 23:57:39.060835"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:57:39 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:57:39 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 23ms (ActiveRecord: 0.7ms (4 queries, 1 cached) | GC: 1.3ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:57:39 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 23:57:39.247908"], ["updated_at", "2025-04-06 23:57:39.247908"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.9ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:57:39 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.4ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 23:57:39.256691"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 12ms (ActiveRecord: 0.5ms (3 queries, 0 cached) | GC: 0.7ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:00:02.175531', '2025-04-07 00:00:02.175531'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:00:02.175531', '2025-04-07 00:00:02.175531');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:00:02.178093', '2025-04-07 00:00:02.178093', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:00:02.178093', '2025-04-07 00:00:02.178093', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$VchYFKKlySlbTYmNlpwVhOKUVBXSfQUnmKD09tSu5QfwlFDJ/E8DC', 60, '2025-04-07 00:00:02.184149', '2025-04-07 00:00:02.184149', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$eb43pkkg5cb1nQn0zW4iBONBD11JjXIJToWOP2Qg8v6s92qRCN0DG', 100, '2025-04-07 00:00:02.184149', '2025-04-07 00:00:02.184149', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:00:02.188912', '2025-04-07 00:00:02.188912', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 00:00:02.188912', '2025-04-07 00:00:02.188912', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:00:02.326603"], ["updated_at", "2025-04-07 00:00:02.326603"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Operating Systems"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.2ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 102], ["status", "Planned"], ["created_at", "2025-04-07 00:00:02.343358"], ["updated_at", "2025-04-07 00:00:02.343358"], ["term", "Fall 2023"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 20:00:02 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:74:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:73:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.9ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.8ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:00:02.519782"], ["updated_at", "2025-04-07 00:00:02.519782"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 20:00:02 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 20:00:02 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 00:00:02.672073"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 23ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 20:00:02 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 11ms (ActiveRecord: 0.6ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 20:00:02 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 00:00:02.707557"], ["updated_at", "2025-04-07 00:00:02.707557"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:01:06.264459', '2025-04-07 00:01:06.264459'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:01:06.264459', '2025-04-07 00:01:06.264459');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:01:06.266991', '2025-04-07 00:01:06.266991', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:01:06.266991', '2025-04-07 00:01:06.266991', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$cXCn8aSZeMu14HkiovPOj.PbojqDBLgRjrLD1uZAAYlG2uzdAfIbG', 60, '2025-04-07 00:01:06.273027', '2025-04-07 00:01:06.273027', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$222U/yZ1J5M6xG.byVOvzuxBD75.d4WT5DaRNiFGsy/bNrdIuMA2K', 100, '2025-04-07 00:01:06.273027', '2025-04-07 00:01:06.273027', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:01:06.277919', '2025-04-07 00:01:06.277919', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 00:01:06.277919', '2025-04-07 00:01:06.277919', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:01:06.415681"], ["updated_at", "2025-04-07 00:01:06.415681"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Operating Systems"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.3ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 102], ["status", "Planned"], ["created_at", "2025-04-07 00:01:06.434205"], ["updated_at", "2025-04-07 00:01:06.434205"], ["term", "Fall 2023"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 20:01:06 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:74:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:73:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.9ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.8ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 20:01:06 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 00:01:06.650273"], ["updated_at", "2025-04-07 00:01:06.650273"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 16ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 20:01:06 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.1ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 00:01:06.670146"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 12ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 20:01:06 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.8ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 10ms (ActiveRecord: 0.9ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:01:06.695940"], ["updated_at", "2025-04-07 00:01:06.695940"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 20:01:06 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:01:45.655832', '2025-04-07 00:01:45.655832'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:01:45.655832', '2025-04-07 00:01:45.655832');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:01:45.658592', '2025-04-07 00:01:45.658592', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:01:45.658592', '2025-04-07 00:01:45.658592', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$LI4vznM6e3SWIab1hvXzgOffIQf5VdNzKZ7W9iUIj5YzZnjQa7TK2', 60, '2025-04-07 00:01:45.664552', '2025-04-07 00:01:45.664552', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$W7Bc8hVxHQyc7TwacqQ8Fuor.AK6OdU1XtRDOXFA3tLT6ZaxleQtC', 100, '2025-04-07 00:01:45.664552', '2025-04-07 00:01:45.664552', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:01:45.669273', '2025-04-07 00:01:45.669273', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:01:45.669273', '2025-04-07 00:01:45.669273', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:01:45.815335"], ["updated_at", "2025-04-07 00:01:45.815335"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Operating Systems"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.2ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 102], ["status", "Planned"], ["created_at", "2025-04-07 00:01:45.832145"], ["updated_at", "2025-04-07 00:01:45.832145"], ["term", "Fall 2023"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 20:01:45 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:74:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:73:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.9ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.9ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 20:01:46 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 00:01:46.044135"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 25ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.8ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 20:01:46 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 00:01:46.070583"], ["updated_at", "2025-04-07 00:01:46.070583"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.6ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 20:01:46 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 12ms (ActiveRecord: 0.6ms (4 queries, 1 cached) | GC: 1.5ms)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:01:46.095543"], ["updated_at", "2025-04-07 00:01:46.095543"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 20:01:46 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.7ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:03:51.443098', '2025-04-07 00:03:51.443098'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:03:51.443098', '2025-04-07 00:03:51.443098');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:03:51.445722', '2025-04-07 00:03:51.445722', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:03:51.445722', '2025-04-07 00:03:51.445722', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$jd49XNUzJYcSJEsBeqysp.svRPW8xyS.E2FxftRlYhBsSxLEVb8v2', 60, '2025-04-07 00:03:51.451606', '2025-04-07 00:03:51.451606', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$x5Mp0Epi/k7YCdaPx.txOONnVAHBWh1nbJwxT3w5lZ5bxoZNM5uGC', 100, '2025-04-07 00:03:51.451606', '2025-04-07 00:03:51.451606', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:03:51.456586', '2025-04-07 00:03:51.456586', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:03:51.456586', '2025-04-07 00:03:51.456586', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:03:51.603563"], ["updated_at", "2025-04-07 00:03:51.603563"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Operating Systems"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.3ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 102], ["status", "Planned"], ["created_at", "2025-04-07 00:03:51.620051"], ["updated_at", "2025-04-07 00:03:51.620051"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 20:03:51 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:74:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:73:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (1.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.8ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 20:03:51 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 23ms (ActiveRecord: 0.6ms (4 queries, 1 cached) | GC: 0.6ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 20:03:51 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 00:03:51.857099"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 12ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.5ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 20:03:51 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 00:03:51.871985"], ["updated_at", "2025-04-07 00:03:51.871985"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.8ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.3ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:03:51.880162"], ["updated_at", "2025-04-07 00:03:51.880162"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 20:03:51 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:07:47.356409', '2025-04-07 00:07:47.356409'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:07:47.356409', '2025-04-07 00:07:47.356409');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:07:47.358912', '2025-04-07 00:07:47.358912', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:07:47.358912', '2025-04-07 00:07:47.358912', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$8nddIsn8oCzB5gvedNdlmOLa3Xfm0pU4zCrI6PvFg.q0PLMjqc.4i', 60, '2025-04-07 00:07:47.364706', '2025-04-07 00:07:47.364706', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$LeffrT7C4t6l89vBf6/alOEDbVtPGL8xW/y/WxupuKuUEvUM47ygW', 100, '2025-04-07 00:07:47.364706', '2025-04-07 00:07:47.364706', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:07:47.369404', '2025-04-07 00:07:47.369404', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:07:47.369404', '2025-04-07 00:07:47.369404', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:07:47.511583"], ["updated_at", "2025-04-07 00:07:47.511583"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.8ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.3ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-07 00:07:47.525308"], ["updated_at", "2025-04-07 00:07:47.525308"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 20:07:47 -0400
CoursesControllerTest - test_should_enroll_if_prerequisite_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 20:07:47 -0400
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:07:47.559407"], ["updated_at", "2025-04-07 00:07:47.559407"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 20:07:47 -0400
CoursesControllerTest - test_should_not_enroll_if_prerequisite_not_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 20:07:47 -0400
CoursesControllerTest - test_should_destroy_course: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 20:07:47 -0400
CoursesControllerTest - test_should_create_course: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:08:19.466633', '2025-04-07 00:08:19.466633'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:08:19.466633', '2025-04-07 00:08:19.466633');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:08:19.468913', '2025-04-07 00:08:19.468913', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:08:19.468913', '2025-04-07 00:08:19.468913', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$gDgYAKGXUz9EErsI5Lrg/.CoExMePrU72HwrngJB1HivgsvmstBua', 60, '2025-04-07 00:08:19.475064', '2025-04-07 00:08:19.475064', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$bDWCoLL246UzTTFM.zYB5ejXiWzm68p1zYg9UEGgx.WVkG60wgOXm', 100, '2025-04-07 00:08:19.475064', '2025-04-07 00:08:19.475064', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:08:19.479926', '2025-04-07 00:08:19.479926', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:08:19.479926', '2025-04-07 00:08:19.479926', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.5ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 20:08:19 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 00:08:19.692517"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 27ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 20:08:19 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 11ms (ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:08:19.727436"], ["updated_at", "2025-04-07 00:08:19.727436"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 20:08:19 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.8ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 20:08:19 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 00:08:19.873438"], ["updated_at", "2025-04-07 00:08:19.873438"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:08:19.878576"], ["updated_at", "2025-04-07 00:08:19.878576"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Operating Systems"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 102], ["status", "Planned"], ["created_at", "2025-04-07 00:08:19.881678"], ["updated_at", "2025-04-07 00:08:19.881678"], ["term", "Fall 2023"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 20:08:19 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:74:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:73:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:09:29.627852', '2025-04-07 00:09:29.627852'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:09:29.627852', '2025-04-07 00:09:29.627852');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:09:29.630114', '2025-04-07 00:09:29.630114', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:09:29.630114', '2025-04-07 00:09:29.630114', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$5ysy6rKLo9t6KMddfc8Q/ee1hMXRArdw.2J5ZCvhJ5JAiP60A0B3S', 60, '2025-04-07 00:09:29.636607', '2025-04-07 00:09:29.636607', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$XXSoBPOzrNONPdL8fxQKKuv1d4PvSxEWL033KWwiA2AYTtfJf6cku', 100, '2025-04-07 00:09:29.636607', '2025-04-07 00:09:29.636607', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:09:29.641536', '2025-04-07 00:09:29.641536', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:09:29.641536', '2025-04-07 00:09:29.641536', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 20:09:29 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 00:09:29.816649"], ["updated_at", "2025-04-07 00:09:29.816649"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 20ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:09:29.840340"], ["updated_at", "2025-04-07 00:09:29.840340"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 20:09:29 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 20:09:29 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 12ms (ActiveRecord: 0.3ms (4 queries, 1 cached) | GC: 1.5ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.6ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:09:29.977558"], ["updated_at", "2025-04-07 00:09:29.977558"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Operating Systems"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 102], ["status", "Planned"], ["created_at", "2025-04-07 00:09:29.981290"], ["updated_at", "2025-04-07 00:09:29.981290"], ["term", "Fall 2023"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 20:09:29 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123458"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/courses_controller.rb:35:in 'CoursesController#enroll'
test/controllers/courses_controller_test.rb:74:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:73:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 20:09:30 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.1ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 00:09:30.253981"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 6ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:10:51.419506', '2025-04-07 00:10:51.419506'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:10:51.419506', '2025-04-07 00:10:51.419506');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:10:51.422165', '2025-04-07 00:10:51.422165', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:10:51.422165', '2025-04-07 00:10:51.422165', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$w2NruX9O95XcdHgZGcMusuMoz07rQWf4fMrNz3gKxb1.112jBi352', 60, '2025-04-07 00:10:51.428094', '2025-04-07 00:10:51.428094', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$xTMRwaivfkS5.ANlH5UJc.aPWpiVyU3J.KufwlWP63rglKUAiySxm', 100, '2025-04-07 00:10:51.428094', '2025-04-07 00:10:51.428094', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:10:51.432870', '2025-04-07 00:10:51.432870', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:10:51.432870', '2025-04-07 00:10:51.432870', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------
DashboardControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:11:25.394879', '2025-04-07 00:11:25.394879'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:11:25.394879', '2025-04-07 00:11:25.394879');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:11:25.397374', '2025-04-07 00:11:25.397374', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:11:25.397374', '2025-04-07 00:11:25.397374', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$btceMtS7TRmPBBR.jJ.5COF7utB4KovoESIRnDfABnWst4D.n2kie', 60, '2025-04-07 00:11:25.403552', '2025-04-07 00:11:25.403552', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$iQDTlU6HNBT5FIszZ6o/SOfnqcop2uCfUrohna/HQe076y53ewCMe', 100, '2025-04-07 00:11:25.403552', '2025-04-07 00:11:25.403552', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:11:25.408568', '2025-04-07 00:11:25.408568', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:11:25.408568', '2025-04-07 00:11:25.408568', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-06 20:11:25 -0400
Processing by ScheduleViewController#index as HTML
Completed 404 Not Found in 4ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/schedule_view_controller.rb:3:in 'ScheduleViewController#index'
test/controllers/schedule_view_controller_test.rb:5:in 'block in <class:ScheduleViewControllerTest>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
ScheduleViewControllerTest: test_should_create_user_schedule
------------------------------------------------------------
  [1m[36mUserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/schedule_view" for 127.0.0.1 at 2025-04-06 20:11:25 -0400
  
ActionController::RoutingError (No route matches [POST] "/schedule_view"):
  
test/controllers/schedule_view_controller_test.rb:12:in 'block (2 levels) in <class:ScheduleViewControllerTest>'
test/controllers/schedule_view_controller_test.rb:11:in 'block in <class:ScheduleViewControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
ScheduleViewControllerTest: test_should_destroy_user_schedule
-------------------------------------------------------------
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
ScheduleViewControllerTest - test_should_destroy_user_schedule: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:13:26.482351', '2025-04-07 00:13:26.482351'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:13:26.482351', '2025-04-07 00:13:26.482351');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:13:26.484916', '2025-04-07 00:13:26.484916', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:13:26.484916', '2025-04-07 00:13:26.484916', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$AHbIICvakBk0FYiUrcIZl.kpo6J6L3dAvvC4O/v6Ec/d3bhBinXMK', 60, '2025-04-07 00:13:26.490909', '2025-04-07 00:13:26.490909', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$BT777uahkFm.ErJOIzTCIu5QKcLWek1RCBYVy7za27VKujd9vKwse', 100, '2025-04-07 00:13:26.490909', '2025-04-07 00:13:26.490909', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:13:26.495814', '2025-04-07 00:13:26.495814', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:13:26.495814', '2025-04-07 00:13:26.495814', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
ScheduleViewControllerTest: test_should_destroy_user_schedule
-------------------------------------------------------------
  [1m[36mUserSchedule Load (0.2ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
ScheduleViewControllerTest - test_should_destroy_user_schedule: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-06 20:13:26 -0400
Processing by ScheduleViewController#index as HTML
Completed 404 Not Found in 4ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/schedule_view_controller.rb:3:in 'ScheduleViewController#index'
test/controllers/schedule_view_controller_test.rb:5:in 'block in <class:ScheduleViewControllerTest>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
ScheduleViewControllerTest: test_should_create_user_schedule
------------------------------------------------------------
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/schedule_view" for 127.0.0.1 at 2025-04-06 20:13:26 -0400
  
ActionController::RoutingError (No route matches [POST] "/schedule_view"):
  
test/controllers/schedule_view_controller_test.rb:12:in 'block (2 levels) in <class:ScheduleViewControllerTest>'
test/controllers/schedule_view_controller_test.rb:11:in 'block in <class:ScheduleViewControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:17:08.776933', '2025-04-07 00:17:08.776933'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:17:08.776933', '2025-04-07 00:17:08.776933');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:17:08.779449', '2025-04-07 00:17:08.779449', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:17:08.779449', '2025-04-07 00:17:08.779449', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$B3UWEowerVfYf4RFTSTa.O1qiVoiZnvsruQGtO53NI3ETefmbTHie', 60, '2025-04-07 00:17:08.785592', '2025-04-07 00:17:08.785592', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$5k5qyBO8NwvgQB0E0puCD..oRKJP5wu6jJWLKWzQzBx4A87OWBf9m', 100, '2025-04-07 00:17:08.785592', '2025-04-07 00:17:08.785592', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:17:08.790393', '2025-04-07 00:17:08.790393', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:17:08.790393', '2025-04-07 00:17:08.790393', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
ScheduleViewControllerTest: test_should_create_user_schedule
------------------------------------------------------------
  [1m[36mUserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/schedule_view" for 127.0.0.1 at 2025-04-06 20:17:08 -0400
  
ActionController::RoutingError (No route matches [POST] "/schedule_view"):
  
test/controllers/schedule_view_controller_test.rb:12:in 'block (2 levels) in <class:ScheduleViewControllerTest>'
test/controllers/schedule_view_controller_test.rb:11:in 'block in <class:ScheduleViewControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
ScheduleViewControllerTest: test_should_destroy_user_schedule
-------------------------------------------------------------
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
ScheduleViewControllerTest - test_should_destroy_user_schedule: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:18:46.506253', '2025-04-07 00:18:46.506253'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:18:46.506253', '2025-04-07 00:18:46.506253');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:18:46.508798', '2025-04-07 00:18:46.508798', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:18:46.508798', '2025-04-07 00:18:46.508798', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$7kDLVjFX3syU6CUAfRxQB.hc/SiFRzwHjPQMl0jf8YoIje4CV.KyS', 60, '2025-04-07 00:18:46.514630', '2025-04-07 00:18:46.514630', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$T1HCSTz41QI1aaaEvuRu9OBBF4fUZjpBKfkuO956WsHGGZxMlK3Bu', 100, '2025-04-07 00:18:46.514630', '2025-04-07 00:18:46.514630', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:18:46.519628', '2025-04-07 00:18:46.519628', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:18:46.519628', '2025-04-07 00:18:46.519628', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-06 20:18:46 -0400
Processing by ScheduleViewController#index as HTML
Completed 404 Not Found in 6ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/schedule_view_controller.rb:3:in 'ScheduleViewController#index'
test/controllers/schedule_view_controller_test.rb:5:in 'block in <class:ScheduleViewControllerTest>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
ScheduleViewControllerTest: test_should_destroy_user_schedule
-------------------------------------------------------------
  [1m[36mUserSchedule Load (0.2ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
ScheduleViewControllerTest - test_should_destroy_user_schedule: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
ScheduleViewControllerTest: test_should_create_user_schedule
------------------------------------------------------------
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/schedule_view" for 127.0.0.1 at 2025-04-06 20:18:46 -0400
  
ActionController::RoutingError (No route matches [POST] "/schedule_view"):
  
test/controllers/schedule_view_controller_test.rb:12:in 'block (2 levels) in <class:ScheduleViewControllerTest>'
test/controllers/schedule_view_controller_test.rb:11:in 'block in <class:ScheduleViewControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.6ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:25:31.990421', '2025-04-07 00:25:31.990421'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:25:31.990421', '2025-04-07 00:25:31.990421');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:25:31.992937', '2025-04-07 00:25:31.992937', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:25:31.992937', '2025-04-07 00:25:31.992937', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$Xh3k8G45.VEZ.fm6oqQhvOD.mgQXfJ28VwT562wak/QL4si2ykN0O', 60, '2025-04-07 00:25:31.999361', '2025-04-07 00:25:31.999361', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$sBdjpHoBeWDPaaP355ZfJObGvg7oGV5gp4D6AJKHRtWykzjlSCyQK', 100, '2025-04-07 00:25:31.999361', '2025-04-07 00:25:31.999361', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:25:32.004351', '2025-04-07 00:25:32.004351', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:25:32.004351', '2025-04-07 00:25:32.004351', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-06 20:25:32 -0400
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:26:54.701501', '2025-04-07 00:26:54.701501'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:26:54.701501', '2025-04-07 00:26:54.701501');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:26:54.703971', '2025-04-07 00:26:54.703971', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:26:54.703971', '2025-04-07 00:26:54.703971', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$ekbrwZr34wUjTU4xMM7kt.ekXIVyUetR51Y6Gvpf9pSozot8x0.w.', 60, '2025-04-07 00:26:54.709729', '2025-04-07 00:26:54.709729', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$9R2aSAUC7F9ZQ9hz95CrYuGLncvV7rhEq/NM70mgJeXtjnEUH/tXm', 100, '2025-04-07 00:26:54.709729', '2025-04-07 00:26:54.709729', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:26:54.714382', '2025-04-07 00:26:54.714382', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:26:54.714382', '2025-04-07 00:26:54.714382', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-06 20:26:54 -0400
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:28:41.314262', '2025-04-07 00:28:41.314262'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:28:41.314262', '2025-04-07 00:28:41.314262');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:28:41.316534', '2025-04-07 00:28:41.316534', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:28:41.316534', '2025-04-07 00:28:41.316534', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$kA3K6tjp9a1gv2OyPfxyE.hR1UTltA8WI8Yv0PgSvNrWREzjB4V4i', 60, '2025-04-07 00:28:41.322389', '2025-04-07 00:28:41.322389', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$fyvvq741pYxo17HoW.EUBO67v/GiLun3B00eEEsN9NOurj17LbC5.', 100, '2025-04-07 00:28:41.322389', '2025-04-07 00:28:41.322389', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:28:41.327556', '2025-04-07 00:28:41.327556', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:28:41.327556', '2025-04-07 00:28:41.327556', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-06 20:28:41 -0400
Processing by ScheduleViewController#index as HTML
Completed 404 Not Found in 6ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/schedule_view_controller.rb:3:in 'ScheduleViewController#index'
test/controllers/schedule_view_controller_test.rb:5:in 'block in <class:ScheduleViewControllerTest>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.9ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:30:38.642980', '2025-04-07 00:30:38.642980'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:30:38.642980', '2025-04-07 00:30:38.642980');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:30:38.645250', '2025-04-07 00:30:38.645250', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:30:38.645250', '2025-04-07 00:30:38.645250', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$WnXGs/.4Hlx7gNuFyq6kMOH1LDnUD35MkI.DfVz.fna53E8fBcixG', 60, '2025-04-07 00:30:38.651166', '2025-04-07 00:30:38.651166', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$w5rZNFnxV0CUJWOwRokQjeGZA8odM.o4KNh3u0GuYoT7H0iAFf2W2', 100, '2025-04-07 00:30:38.651166', '2025-04-07 00:30:38.651166', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:30:38.655945', '2025-04-07 00:30:38.655945', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:30:38.655945', '2025-04-07 00:30:38.655945', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-06 20:30:38 -0400
Processing by ScheduleViewController#index as HTML
Completed 404 Not Found in 6ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/schedule_view_controller.rb:3:in 'ScheduleViewController#index'
test/controllers/schedule_view_controller_test.rb:5:in 'block in <class:ScheduleViewControllerTest>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:31:04.519771', '2025-04-07 00:31:04.519771'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:31:04.519771', '2025-04-07 00:31:04.519771');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:31:04.521988', '2025-04-07 00:31:04.521988', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:31:04.521988', '2025-04-07 00:31:04.521988', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$1wen1btW70m1v3u/b2hNmOc7LHx98sj6Vh26DHmk0iR2M1Ed8wCPu', 60, '2025-04-07 00:31:04.528207', '2025-04-07 00:31:04.528207', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$TiIacGPz/EEDNZq2S2l30uWAYBsiuOZWoMnkzgmZBkJ8lLUtS3H.e', 100, '2025-04-07 00:31:04.528207', '2025-04-07 00:31:04.528207', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:31:04.533086', '2025-04-07 00:31:04.533086', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:31:04.533086', '2025-04-07 00:31:04.533086', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-06 20:31:04 -0400
Processing by ScheduleViewController#index as HTML
Completed 404 Not Found in 4ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/schedule_view_controller.rb:3:in 'ScheduleViewController#index'
test/controllers/schedule_view_controller_test.rb:5:in 'block in <class:ScheduleViewControllerTest>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:32:03.602507', '2025-04-07 00:32:03.602507'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:32:03.602507', '2025-04-07 00:32:03.602507');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:32:03.604777', '2025-04-07 00:32:03.604777', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:32:03.604777', '2025-04-07 00:32:03.604777', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$up.wJm1kjH2ueOERUKSnYetX6CFsKhc9I/CTRkW.EUZS2h.tb7Es6', 60, '2025-04-07 00:32:03.611183', '2025-04-07 00:32:03.611183', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$TwTycQGQtkYTCXflFMgXPeauxOYjBtJalWhEdxhvv1U90NJ5lNjs6', 100, '2025-04-07 00:32:03.611183', '2025-04-07 00:32:03.611183', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:32:03.616227', '2025-04-07 00:32:03.616227', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:32:03.616227', '2025-04-07 00:32:03.616227', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-06 20:32:03 -0400
Processing by ScheduleViewController#index as HTML
Completed 404 Not Found in 4ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/schedule_view_controller.rb:3:in 'ScheduleViewController#index'
test/controllers/schedule_view_controller_test.rb:5:in 'block in <class:ScheduleViewControllerTest>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:35:17.257155', '2025-04-07 00:35:17.257155'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:35:17.257155', '2025-04-07 00:35:17.257155');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:35:17.259414', '2025-04-07 00:35:17.259414', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:35:17.259414', '2025-04-07 00:35:17.259414', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$eAYhFYs9ILrPACoavZZ4y.OQD71bniCew.WvooN/4Q1ypPMPf34VW', 60, '2025-04-07 00:35:17.265455', '2025-04-07 00:35:17.265455', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$HYGRcxylESx8jUlOIo2tbeJa3OPWhG4UjJ9miiv9IarGWgSw12R4W', 100, '2025-04-07 00:35:17.265455', '2025-04-07 00:35:17.265455', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:35:17.270271', '2025-04-07 00:35:17.270271', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:35:17.270271', '2025-04-07 00:35:17.270271', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-06 20:35:17 -0400
Processing by ScheduleViewController#index as HTML
Completed 404 Not Found in 6ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/schedule_view_controller.rb:3:in 'ScheduleViewController#index'
test/controllers/schedule_view_controller_test.rb:5:in 'block in <class:ScheduleViewControllerTest>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:36:22.139027', '2025-04-07 00:36:22.139027'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:36:22.139027', '2025-04-07 00:36:22.139027');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:36:22.141263', '2025-04-07 00:36:22.141263', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:36:22.141263', '2025-04-07 00:36:22.141263', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$6vTBuP3VvsQAYOpS7DXYmubrM.XB3cx3tPBLxZVsMmswEgKqJdiUy', 60, '2025-04-07 00:36:22.147081', '2025-04-07 00:36:22.147081', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$.CWIhxRamGRXtuQQgrlNBO10s7xJe7Q0cc/FVe661CXq49axq3/tC', 100, '2025-04-07 00:36:22.147081', '2025-04-07 00:36:22.147081', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:36:22.151866', '2025-04-07 00:36:22.151866', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:36:22.151866', '2025-04-07 00:36:22.151866', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2025-04-06 20:36:22 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 257ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-06 20:36:22 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mCACHE Student Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 4.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | GC: 0.0ms)
Completed 200 OK in 50ms (Views: 12.9ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:36:51.797682', '2025-04-07 00:36:51.797682'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:36:51.797682', '2025-04-07 00:36:51.797682');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:36:51.799936', '2025-04-07 00:36:51.799936', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:36:51.799936', '2025-04-07 00:36:51.799936', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$G0Xsva.T05a/pgKRmAFyZuU2gyEQThBJU6UhpsbxoI1nmch33iwoq', 60, '2025-04-07 00:36:51.806077', '2025-04-07 00:36:51.806077', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$lSoFjwPEc2/IyiThqNk3EON9082dY0HM1aQ99h6IYXxzTxuUrVfUa', 100, '2025-04-07 00:36:51.806077', '2025-04-07 00:36:51.806077', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:36:51.811045', '2025-04-07 00:36:51.811045', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:36:51.811045', '2025-04-07 00:36:51.811045', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-06 20:36:51 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 3.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | GC: 0.0ms)
Completed 200 OK in 29ms (Views: 10.6ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-06 20:36:51 -0400
Processing by StudentsController#update as HTML
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.1ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 00:36:52.002802"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.5ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-06 20:36:52 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x0000000129b1c310>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 4.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-06 20:36:52 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.1ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 8ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-06 20:36:52 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:39:07.144098', '2025-04-07 00:39:07.144098'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:39:07.144098', '2025-04-07 00:39:07.144098');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:39:07.146666', '2025-04-07 00:39:07.146666', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:39:07.146666', '2025-04-07 00:39:07.146666', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$v4V.x5bcDWteM0yX5qrsSOWt5T0e56GeN0.BQMXZyFyBlUmlYIuJG', 60, '2025-04-07 00:39:07.152762', '2025-04-07 00:39:07.152762', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$nzeLCAmtPH6Ou.3C95FZPOJ4MBjIPGrXLup0UnaW554lB2KANcnxi', 100, '2025-04-07 00:39:07.152762', '2025-04-07 00:39:07.152762', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:39:07.157739', '2025-04-07 00:39:07.157739', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:39:07.157739', '2025-04-07 00:39:07.157739', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-06 20:39:07 -0400
Processing by StudentsController#update as HTML
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 00:39:07.319616"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 14ms (Views: 0.2ms | ActiveRecord: 0.5ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-06 20:39:07 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | GC: 0.0ms)
Completed 200 OK in 19ms (Views: 9.4ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-06 20:39:07 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.0ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 7ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-06 20:39:07 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x0000000127fb24f8>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 4.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-06 20:39:07 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 2.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:40:40.118633', '2025-04-07 00:40:40.118633'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:40:40.118633', '2025-04-07 00:40:40.118633');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:40:40.121187', '2025-04-07 00:40:40.121187', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:40:40.121187', '2025-04-07 00:40:40.121187', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$bzxPfDxW5tSgqOSHcTQrE.9oP.L62lOy8m/PtrK6YElFLqBwklNlG', 60, '2025-04-07 00:40:40.127222', '2025-04-07 00:40:40.127222', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$PxQvh66o.xhNRua3aGBom.Ylegh5nKvForwqvSKhjUHctOgtsWYpC', 100, '2025-04-07 00:40:40.127222', '2025-04-07 00:40:40.127222', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:40:40.132180', '2025-04-07 00:40:40.132180', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:40:40.132180', '2025-04-07 00:40:40.132180', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-06 20:40:40 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.1ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 21ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-06 20:40:40 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x00000001286cff10>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 00:40:40.332072"], ["updated_at", "2025-04-07 00:40:40.332072"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY "students"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-06 20:40:40 -0400
Processing by StudentsController#update as HTML
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 00:40:40.340665"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-06 20:40:40 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | GC: 0.0ms)
Completed 200 OK in 20ms (Views: 10.7ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-06 20:40:40 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:41:56.068214', '2025-04-07 00:41:56.068214'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:41:56.068214', '2025-04-07 00:41:56.068214');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:41:56.070673', '2025-04-07 00:41:56.070673', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:41:56.070673', '2025-04-07 00:41:56.070673', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$oPQa7ZiV4xN2cWwP5xces.8XgHUPQWpn6scarSi0C0EOdq1c/zZCq', 60, '2025-04-07 00:41:56.076574', '2025-04-07 00:41:56.076574', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$xmwKwlHkzVLHL3Pd6HWDweUB/j5vEgmQd4KKI8DSB.qR6C17RO/vu', 100, '2025-04-07 00:41:56.076574', '2025-04-07 00:41:56.076574', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:41:56.081407', '2025-04-07 00:41:56.081407', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:41:56.081407', '2025-04-07 00:41:56.081407', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-06 20:41:56 -0400
Processing by StudentsController#update as HTML
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 00:41:56.243001"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 14ms (Views: 0.2ms | ActiveRecord: 0.5ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-06 20:41:56 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x0000000130499a68>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 00:41:56.254420"], ["updated_at", "2025-04-07 00:41:56.254420"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-06 20:41:56 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 3.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | GC: 0.0ms)
Completed 200 OK in 21ms (Views: 10.2ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-06 20:41:56 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-06 20:41:56 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.1ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:42:16.261984', '2025-04-07 00:42:16.261984'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:42:16.261984', '2025-04-07 00:42:16.261984');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:42:16.264305', '2025-04-07 00:42:16.264305', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:42:16.264305', '2025-04-07 00:42:16.264305', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$B8CoRD52IfB/cOkc57D4XuX8hAimwdopxgWM/0LUwbBZ9vCusrwDu', 60, '2025-04-07 00:42:16.270678', '2025-04-07 00:42:16.270678', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$JyEsoTMlVuj6qhhhxGh2ce7tfp7oEzjflc6AkPNhFDnZlsubGHCky', 100, '2025-04-07 00:42:16.270678', '2025-04-07 00:42:16.270678', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:42:16.275587', '2025-04-07 00:42:16.275587', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:42:16.275587', '2025-04-07 00:42:16.275587', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-06 20:42:16 -0400
Processing by StudentsController#update as HTML
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 00:42:16.430328"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 14ms (Views: 0.2ms | ActiveRecord: 0.5ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-06 20:42:16 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x000000012a3d0830>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 00:42:16.441843"], ["updated_at", "2025-04-07 00:42:16.441843"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-06 20:42:16 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.0ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-06 20:42:16 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | GC: 0.0ms)
Completed 200 OK in 18ms (Views: 8.8ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-06 20:42:16 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:43:21.111604', '2025-04-07 00:43:21.111604'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:43:21.111604', '2025-04-07 00:43:21.111604');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:43:21.113880', '2025-04-07 00:43:21.113880', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:43:21.113880', '2025-04-07 00:43:21.113880', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$dOZJHut0.31Y6ndPW/apaOzvY1hDj0PMsYGuaBXKMtPs.SgW35UIq', 60, '2025-04-07 00:43:21.119825', '2025-04-07 00:43:21.119825', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$xE6aCvGj4Fc4N2HcGJ4LW.1pAk0R1Aa9i1CG/wIJgqGaZj5XrG1EC', 100, '2025-04-07 00:43:21.119825', '2025-04-07 00:43:21.119825', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:43:21.124530', '2025-04-07 00:43:21.124530', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:43:21.124530', '2025-04-07 00:43:21.124530', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-06 20:43:21 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 14.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 19.6ms | GC: 0.0ms)
Completed 200 OK in 36ms (Views: 22.3ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-06 20:43:21 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 3.7ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-06 20:43:21 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x000000011ede0340>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 00:43:21.307934"], ["updated_at", "2025-04-07 00:43:21.307934"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 15ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-06 20:43:21 -0400
Processing by StudentsController#update as HTML
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 00:43:21.323491"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-06 20:43:21 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.1ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:45:37.752468', '2025-04-07 00:45:37.752468'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:45:37.752468', '2025-04-07 00:45:37.752468');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:45:37.754983', '2025-04-07 00:45:37.754983', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:45:37.754983', '2025-04-07 00:45:37.754983', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$8TAEEnyKFjbc.rlyAp2vJuz8TOX92HaeDDn1Fps4tAmCg2Ud0UKCe', 60, '2025-04-07 00:45:37.760811', '2025-04-07 00:45:37.760811', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$cNcM1NUlfF3hJjFeabo0peee383iqtPa5O27SpKStnJ7to0J5c0Ii', 100, '2025-04-07 00:45:37.760811', '2025-04-07 00:45:37.760811', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:45:37.765526', '2025-04-07 00:45:37.765526', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:45:37.765526', '2025-04-07 00:45:37.765526', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-06 20:45:37 -0400
Processing by StudentsController#update as HTML
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 00:45:37.936946"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 14ms (Views: 0.2ms | ActiveRecord: 0.5ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-06 20:45:37 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 2.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | GC: 0.0ms)
Completed 200 OK in 27ms (Views: 14.7ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-06 20:45:37 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.1ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 7ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-06 20:45:37 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x000000010f9d00c0>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 00:45:38.000702"], ["updated_at", "2025-04-07 00:45:38.000702"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-06 20:45:38 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:47:24.028561', '2025-04-07 00:47:24.028561'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:47:24.028561', '2025-04-07 00:47:24.028561');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:47:24.030894', '2025-04-07 00:47:24.030894', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:47:24.030894', '2025-04-07 00:47:24.030894', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$K6Fp23RNI/f1EC1fc7iS/OetK7/ewCPG0dj4XDWiCxtWTINb7i6qW', 60, '2025-04-07 00:47:24.036726', '2025-04-07 00:47:24.036726', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$GIT3yWgFkTjVLd8zuBcpweWG9hYuFjyxdLgdhsVDFHdsXF0s8.qOS', 100, '2025-04-07 00:47:24.036726', '2025-04-07 00:47:24.036726', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:47:24.041443', '2025-04-07 00:47:24.041443', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:47:24.041443', '2025-04-07 00:47:24.041443', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-06 20:47:24 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 3.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | GC: 0.0ms)
Completed 200 OK in 33ms (Views: 12.5ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-06 20:47:24 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-06 20:47:24 -0400
Processing by StudentsController#update as JSON
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 00:47:24.245750"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.4ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-06 20:47:24 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.1ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 8ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-06 20:47:24 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x000000012a7c3988>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 00:47:24.278587"], ["updated_at", "2025-04-07 00:47:24.278587"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:47:55.767747', '2025-04-07 00:47:55.767747'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:47:55.767747', '2025-04-07 00:47:55.767747');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:47:55.770017', '2025-04-07 00:47:55.770017', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:47:55.770017', '2025-04-07 00:47:55.770017', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$xpvYQ7sf9avCDFraQ9rOleF6OmG8sDz0pNaT/mv09sTVfOrLUgdE2', 60, '2025-04-07 00:47:55.775930', '2025-04-07 00:47:55.775930', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$62uX3kpnXe7ZRLs9TyfWB.zJqaaTUMZXYzzFvWdPp/lcgXqMu7HLi', 100, '2025-04-07 00:47:55.775930', '2025-04-07 00:47:55.775930', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:47:55.780706', '2025-04-07 00:47:55.780706', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:47:55.780706', '2025-04-07 00:47:55.780706', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-06 20:47:55 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 3.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | GC: 0.0ms)
Completed 200 OK in 36ms (Views: 13.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/students" for 127.0.0.1 at 2025-04-06 20:47:55 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 00:47:55.944736"], ["updated_at", "2025-04-07 00:47:55.944736"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 21ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-06 20:47:55 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 15.3ms | GC: 12.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.0ms | GC: 12.0ms)
Completed 200 OK in 17ms (Views: 16.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 12.0ms)
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:47:55.998009"], ["updated_at", "2025-04-07 00:47:55.998009"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Operating Systems"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.2ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 102], ["status", "Planned"], ["created_at", "2025-04-07 00:47:56.001482"], ["updated_at", "2025-04-07 00:47:56.001482"], ["term", "Fall 2023"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 20:47:56 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:74:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:73:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 20:47:56 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 00:47:56.132175"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.6ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:47:56.140239"], ["updated_at", "2025-04-07 00:47:56.140239"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 20:47:56 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 20:47:56 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 00:47:56.276157"], ["updated_at", "2025-04-07 00:47:56.276157"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 9ms (ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.6ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 20:47:56 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 14ms (ActiveRecord: 0.3ms (4 queries, 1 cached) | GC: 1.3ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.7ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-06 20:47:56 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 11.0ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 11.4ms | GC: 0.7ms)
Completed 200 OK in 14ms (Views: 11.7ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.9ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-06 20:47:56 -0400
Processing by StudentsController#update as JSON
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.1ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 00:47:56.399150"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 12ms (Views: 0.5ms | ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.6ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-06 20:47:56 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-06 20:47:56 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x0000000121e1a6f0>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 00:47:56.419216"], ["updated_at", "2025-04-07 00:47:56.419216"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-06 20:47:56 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.0ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2025-04-06 20:47:56 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 243ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-06 20:47:56 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mCACHE Student Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 1.7ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 0.8ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:48:32.555264', '2025-04-07 00:48:32.555264'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:48:32.555264', '2025-04-07 00:48:32.555264');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:48:32.558466', '2025-04-07 00:48:32.558466', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:48:32.558466', '2025-04-07 00:48:32.558466', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$.MMrkydff95vLBTPn.t8w.VtUJVYJowoGnfc5Fk8HrZV/26.ckcgi', 60, '2025-04-07 00:48:32.564586', '2025-04-07 00:48:32.564586', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$.pozkjanPnsdrDtlqfRUU.bJa/frIcH.Z.7Ji7jpd40OiGKl21dPe', 100, '2025-04-07 00:48:32.564586', '2025-04-07 00:48:32.564586', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:48:32.569589', '2025-04-07 00:48:32.569589', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:48:32.569589', '2025-04-07 00:48:32.569589', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.6ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:49:38.836528', '2025-04-07 00:49:38.836528'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:49:38.836528', '2025-04-07 00:49:38.836528');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:49:38.839971', '2025-04-07 00:49:38.839971', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:49:38.839971', '2025-04-07 00:49:38.839971', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$Xa6Ft3y72v3N3YyMyUp2Ju1ylS7l3A6SK9ts4KRrk.P.G1xgsuhkS', 60, '2025-04-07 00:49:38.846107', '2025-04-07 00:49:38.846107', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$6j4AtDi5tyQGuAAHs0la7OnFk103nUBEKNC1ZewhA3q2LO/YGorrm', 100, '2025-04-07 00:49:38.846107', '2025-04-07 00:49:38.846107', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:49:38.850892', '2025-04-07 00:49:38.850892', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:49:38.850892', '2025-04-07 00:49:38.850892', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 00:49:38.914349"], ["updated_at", "2025-04-07 00:49:38.914349"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 00:49:38.930754"], ["updated_at", "2025-04-07 00:49:38.930754"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-04-07 00:49:38.939616"], ["updated_at", "2025-04-07 00:49:38.939616"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:49:50.464434', '2025-04-07 00:49:50.464434'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:49:50.464434', '2025-04-07 00:49:50.464434');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:49:50.466817', '2025-04-07 00:49:50.466817', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:49:50.466817', '2025-04-07 00:49:50.466817', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$YdX7lEZAkzUgx.BgSdFIauIQRM69IFg2Dpfl4yTA2IhUKCGKq2DIi', 60, '2025-04-07 00:49:50.472654', '2025-04-07 00:49:50.472654', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$vwyvR/imBJ04k1Ua2QHPFuUgrFPwchn3gysnqykQ4nfuLm9ecnAMC', 100, '2025-04-07 00:49:50.472654', '2025-04-07 00:49:50.472654', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:49:50.477359', '2025-04-07 00:49:50.477359', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:49:50.477359', '2025-04-07 00:49:50.477359', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-06 20:49:50 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | GC: 0.0ms)
Completed 200 OK in 29ms (Views: 10.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/students" for 127.0.0.1 at 2025-04-06 20:49:50 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 00:49:50.640088"], ["updated_at", "2025-04-07 00:49:50.640088"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 19ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-06 20:49:50 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-06 20:49:50 -0400
Processing by StudentsController#update as JSON
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.1ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 00:49:50.701057"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 20ms (Views: 0.9ms | ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.4ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-06 20:49:50 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-06 20:49:50 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x0000000123643678>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 00:49:50.725495"], ["updated_at", "2025-04-07 00:49:50.725495"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-06 20:49:50 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 2.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-06 20:49:50 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.1ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2025-04-06 20:49:50 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 243ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-06 20:49:50 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mCACHE Student Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.2ms)
Completed 200 OK in 12ms (Views: 2.6ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 0.4ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 20:49:51 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 00:49:51.022795"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 12ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:49:51.035264"], ["updated_at", "2025-04-07 00:49:51.035264"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 20:49:51 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (1.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 20:49:51 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 00:49:51.185120"], ["updated_at", "2025-04-07 00:49:51.185120"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:49:51.193070"], ["updated_at", "2025-04-07 00:49:51.193070"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Operating Systems"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 102], ["status", "Planned"], ["created_at", "2025-04-07 00:49:51.199773"], ["updated_at", "2025-04-07 00:49:51.199773"], ["term", "Fall 2023"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 20:49:51 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:74:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:73:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 20:49:51 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 8ms (ActiveRecord: 0.7ms (4 queries, 1 cached) | GC: 0.8ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-04-07 00:49:51.324386"], ["updated_at", "2025-04-07 00:49:51.324386"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.4ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 00:49:51.336986"], ["updated_at", "2025-04-07 00:49:51.336986"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 00:49:51.340791"], ["updated_at", "2025-04-07 00:49:51.340791"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.9ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:50:06.200402', '2025-04-07 00:50:06.200402'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:50:06.200402', '2025-04-07 00:50:06.200402');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:50:06.203648', '2025-04-07 00:50:06.203648', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:50:06.203648', '2025-04-07 00:50:06.203648', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$PADwQYuxnrttscWS9zgfJ.CH15kCVVnBPkwHQ.j9nRNeH4W8YyfR.', 60, '2025-04-07 00:50:06.209791', '2025-04-07 00:50:06.209791', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$JVWDcxsF8RO7aIh03U3X.umOE5FtWtTH0.d9JiD.S4fyUXYCIsc6i', 100, '2025-04-07 00:50:06.209791', '2025-04-07 00:50:06.209791', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:50:06.214810', '2025-04-07 00:50:06.214810', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:50:06.214810', '2025-04-07 00:50:06.214810', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:51:23.875739', '2025-04-07 00:51:23.875739'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:51:23.875739', '2025-04-07 00:51:23.875739');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:51:23.879104', '2025-04-07 00:51:23.879104', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:51:23.879104', '2025-04-07 00:51:23.879104', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$Suq/lHSAHf9PoE9vte.oour4mzKb.AcKUnLuu//SNOdHu/uWxtxHi', 60, '2025-04-07 00:51:23.885421', '2025-04-07 00:51:23.885421', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$8kIH4hNQuLLgCyl73wIThOfzf8oDxBaCcHt/tDGJdfzSshz1Hx/ki', 100, '2025-04-07 00:51:23.885421', '2025-04-07 00:51:23.885421', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:51:23.890355', '2025-04-07 00:51:23.890355', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:51:23.890355', '2025-04-07 00:51:23.890355', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:53:41.787969', '2025-04-07 00:53:41.787969'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:53:41.787969', '2025-04-07 00:53:41.787969');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:53:41.790725', '2025-04-07 00:53:41.790725', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:53:41.790725', '2025-04-07 00:53:41.790725', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$nEAmdd3X/9r6cWoB5dpbTehhd8sLS0nIgT8I1mNhs5u/CQVY8peOW', 60, '2025-04-07 00:53:41.797230', '2025-04-07 00:53:41.797230', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$6t/11d4v13bIiky64Y7ZuOh6vFZDC.H70n4Nxs/fu3zObUxBinLY.', 100, '2025-04-07 00:53:41.797230', '2025-04-07 00:53:41.797230', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:53:41.801982', '2025-04-07 00:53:41.801982', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:53:41.801982', '2025-04-07 00:53:41.801982', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.7ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:56:52.674849', '2025-04-07 00:56:52.674849'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:56:52.674849', '2025-04-07 00:56:52.674849');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:56:52.677958', '2025-04-07 00:56:52.677958', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:56:52.677958', '2025-04-07 00:56:52.677958', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$z3FoRbX6kFoXqqaymYpQMu3HvweXRwA7alwomQSWvQ/77EJNKwI/2', 60, '2025-04-07 00:56:52.684134', '2025-04-07 00:56:52.684134', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$Nzm7f0rE/ByenrR9ic0oa.sZQMzwg7lOU49j.hwkE4Ptlh5oeYnmu', 100, '2025-04-07 00:56:52.684134', '2025-04-07 00:56:52.684134', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:56:52.689462', '2025-04-07 00:56:52.689462', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:56:52.689462', '2025-04-07 00:56:52.689462', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 203], ["class_name", "Computer Networks"], ["professor", "Dr. Adams"], ["term", "Spring 2024"], ["credits", 4], ["class_time", "2000-01-01 19:00:00"], ["created_at", "2025-04-07 00:56:52.770929"], ["updated_at", "2025-04-07 00:56:52.770929"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:56:58.953984', '2025-04-07 00:56:58.953984'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:56:58.953984', '2025-04-07 00:56:58.953984');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:56:58.956258', '2025-04-07 00:56:58.956258', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:56:58.956258', '2025-04-07 00:56:58.956258', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$pYkSLmWIpEj.Fvx4FRPRv.b/0YLRDS6bnzaHwXafylRhwe/oSQ4VC', 60, '2025-04-07 00:56:58.962388', '2025-04-07 00:56:58.962388', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$06WtlWL/Ft2HmoDqs2HC0O.88z94zlEtlJmjRMUMRnQ4.TyGYYRCG', 100, '2025-04-07 00:56:58.962388', '2025-04-07 00:56:58.962388', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:56:58.967161', '2025-04-07 00:56:58.967161', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:56:58.967161', '2025-04-07 00:56:58.967161', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-06 20:56:59 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 2.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.5ms | GC: 0.0ms)
Completed 200 OK in 35ms (Views: 14.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/students" for 127.0.0.1 at 2025-04-06 20:56:59 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 00:56:59.145662"], ["updated_at", "2025-04-07 00:56:59.145662"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 18ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-06 20:56:59 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 3.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-06 20:56:59 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x000000011fcd9f68>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 00:56:59.169689"], ["updated_at", "2025-04-07 00:56:59.169689"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-06 20:56:59 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 4.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-06 20:56:59 -0400
Processing by StudentsController#update as JSON
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 00:56:59.180848"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 1.6ms | ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-06 20:56:59 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 15.6ms | GC: 12.4ms)
  Rendered layout layouts/application.html.erb (Duration: 16.0ms | GC: 12.4ms)
Completed 200 OK in 17ms (Views: 16.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 12.4ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-06 20:56:59 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.0ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 00:56:59.235912"], ["updated_at", "2025-04-07 00:56:59.235912"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-04-07 00:56:59.246816"], ["updated_at", "2025-04-07 00:56:59.246816"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 00:56:59.254453"], ["updated_at", "2025-04-07 00:56:59.254453"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 203], ["class_name", "Computer Networks"], ["professor", "Dr. Adams"], ["term", "Spring 2024"], ["credits", 4], ["class_time", "2000-01-01 19:00:00"], ["created_at", "2025-04-07 00:56:59.280036"], ["updated_at", "2025-04-07 00:56:59.280036"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (1.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 20:56:59 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 00:56:59.310421"], ["updated_at", "2025-04-07 00:56:59.310421"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:56:59.320811"], ["updated_at", "2025-04-07 00:56:59.320811"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 20:56:59 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 20:56:59 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 00:56:59.475518"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 12ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.6ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:56:59.488137"], ["updated_at", "2025-04-07 00:56:59.488137"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Operating Systems"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 102], ["status", "Planned"], ["created_at", "2025-04-07 00:56:59.495764"], ["updated_at", "2025-04-07 00:56:59.495764"], ["term", "Fall 2023"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 20:56:59 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:74:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:73:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 20:56:59 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 8ms (ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2025-04-06 20:56:59 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 243ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-06 20:56:59 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mCACHE Student Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 13ms (Views: 2.0ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:57:11.074493', '2025-04-07 00:57:11.074493'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:57:11.074493', '2025-04-07 00:57:11.074493');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:57:11.077622', '2025-04-07 00:57:11.077622', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:57:11.077622', '2025-04-07 00:57:11.077622', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$1uDfnTQGtI45vW.D9y.5S.Z.BRpcuancPSfAE6qeVNUP4qa8XazFO', 60, '2025-04-07 00:57:11.084032', '2025-04-07 00:57:11.084032', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$shUFYhiDNNnW6D6gETgkqeWp/MRa4v6PIGTUVfft48k5G3Ig6dIJy', 100, '2025-04-07 00:57:11.084032', '2025-04-07 00:57:11.084032', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:57:11.089112', '2025-04-07 00:57:11.089112', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:57:11.089112', '2025-04-07 00:57:11.089112', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:58:21.141369', '2025-04-07 00:58:21.141369'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:58:21.141369', '2025-04-07 00:58:21.141369');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:58:21.144945', '2025-04-07 00:58:21.144945', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:58:21.144945', '2025-04-07 00:58:21.144945', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$u1B2eerOkht//5L8f9E9SelEg/HDQTKHnlfXThcMnUffqnfO0F7I6', 60, '2025-04-07 00:58:21.150952', '2025-04-07 00:58:21.150952', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$8DHmmYHR4BNj7uw/tI1VkeVLr0q4qpVl2ap7L67zljCo9oHPUqEN6', 100, '2025-04-07 00:58:21.150952', '2025-04-07 00:58:21.150952', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:58:21.156005', '2025-04-07 00:58:21.156005', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:58:21.156005', '2025-04-07 00:58:21.156005', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 00:58:21.203193"], ["updated_at", "2025-04-07 00:58:21.203193"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 00:58:21.217853"], ["updated_at", "2025-04-07 00:58:21.217853"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.4ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 00:58:21.242683"], ["updated_at", "2025-04-07 00:58:21.242683"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 00:58:21.254426"], ["updated_at", "2025-04-07 00:58:21.254426"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 00:58:21.273035"], ["updated_at", "2025-04-07 00:58:21.273035"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 00:58:21.275911"], ["updated_at", "2025-04-07 00:58:21.275911"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.7ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 01:01:12.036466', '2025-04-07 01:01:12.036466'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 01:01:12.036466', '2025-04-07 01:01:12.036466');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 01:01:12.039403', '2025-04-07 01:01:12.039403', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 01:01:12.039403', '2025-04-07 01:01:12.039403', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$qCmClG/oyFxbIR/TrXVMWulUPkXpcceS2ph0ja/Kw.HOeoKiOHexu', 60, '2025-04-07 01:01:12.045866', '2025-04-07 01:01:12.045866', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$9QgqeZ3pjLCApN9mIQM4h.RTW8EGCzRIOKy.juhOX8XH7NfeNEbM6', 100, '2025-04-07 01:01:12.045866', '2025-04-07 01:01:12.045866', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 01:01:12.050671', '2025-04-07 01:01:12.050671', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 01:01:12.050671', '2025-04-07 01:01:12.050671', NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 01:01:12.132462"], ["updated_at", "2025-04-07 01:01:12.132462"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 01:01:12.147841"], ["updated_at", "2025-04-07 01:01:12.147841"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.3ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 01:01:12.162558"], ["updated_at", "2025-04-07 01:01:12.162558"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 01:01:12.176963"], ["updated_at", "2025-04-07 01:01:12.176963"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 01:01:12.186113"], ["updated_at", "2025-04-07 01:01:12.186113"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 01:01:12.191066"], ["updated_at", "2025-04-07 01:01:12.191066"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 01:01:12.197620"], ["updated_at", "2025-04-07 01:01:12.197620"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 01:01:12.199221"], ["updated_at", "2025-04-07 01:01:12.199221"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 01:01:12.200414"], ["updated_at", "2025-04-07 01:01:12.200414"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 01:01:32.657768', '2025-04-07 01:01:32.657768'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 01:01:32.657768', '2025-04-07 01:01:32.657768');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 01:01:32.659999', '2025-04-07 01:01:32.659999', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 01:01:32.659999', '2025-04-07 01:01:32.659999', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$OKTjoyQ/3q7jem4/G.8HXesRP5UczmEoAopstVA0xIcs9ZoYcRipS', 60, '2025-04-07 01:01:32.665984', '2025-04-07 01:01:32.665984', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$0mdVrvmWAIf7tNE.AyqLzepWyyYW5xMP9HY7tVq8cO8FZkeOckQSa', 100, '2025-04-07 01:01:32.665984', '2025-04-07 01:01:32.665984', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 01:01:32.670818', '2025-04-07 01:01:32.670818', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 01:01:32.670818', '2025-04-07 01:01:32.670818', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.3ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 21:01:32 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 01:01:32.853224"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 17ms (ActiveRecord: 0.3ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 21:01:32 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 6ms (ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 01:01:32.880462"], ["updated_at", "2025-04-07 01:01:32.880462"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 21:01:32 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.6ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 21:01:33 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 01:01:33.040435"], ["updated_at", "2025-04-07 01:01:33.040435"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 11ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.7ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 01:01:33.049772"], ["updated_at", "2025-04-07 01:01:33.049772"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Operating Systems"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 102], ["status", "Planned"], ["created_at", "2025-04-07 01:01:33.056263"], ["updated_at", "2025-04-07 01:01:33.056263"], ["term", "Fall 2023"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 21:01:33 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:74:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:73:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2025-04-06 21:01:33 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 244ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.3ms)
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-06 21:01:33 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mCACHE Student Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 12.0ms | GC: 5.1ms)
  Rendered layout layouts/application.html.erb (Duration: 18.7ms | GC: 7.2ms)
Completed 200 OK in 36ms (Views: 21.3ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 10.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-06 21:01:33 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 6.8ms | GC: 1.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | GC: 1.2ms)
Completed 200 OK in 9ms (Views: 8.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.6ms)
Started POST "/students" for 127.0.0.1 at 2025-04-06 21:01:33 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.2ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 01:01:33.464078"], ["updated_at", "2025-04-07 01:01:33.464078"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.5ms)
Started GET "/" for 127.0.0.1 at 2025-04-06 21:01:33 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.3ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.9ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.9ms)
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.2ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 01:01:33.484863"], ["updated_at", "2025-04-07 01:01:33.484863"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 01:01:33.488252"], ["updated_at", "2025-04-07 01:01:33.488252"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 01:01:33.490814"], ["updated_at", "2025-04-07 01:01:33.490814"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 01:01:33.494696"], ["updated_at", "2025-04-07 01:01:33.494696"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 01:01:33.496466"], ["updated_at", "2025-04-07 01:01:33.496466"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 01:01:33.497502"], ["updated_at", "2025-04-07 01:01:33.497502"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 01:01:33.500226"], ["updated_at", "2025-04-07 01:01:33.500226"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 01:01:33.506496"], ["updated_at", "2025-04-07 01:01:33.506496"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 01:01:33.510594"], ["updated_at", "2025-04-07 01:01:33.510594"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 01:01:33.519274"], ["updated_at", "2025-04-07 01:01:33.519274"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-04-07 01:01:33.527443"], ["updated_at", "2025-04-07 01:01:33.527443"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 01:01:33.535705"], ["updated_at", "2025-04-07 01:01:33.535705"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.7ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-06 21:01:33 -0400
Processing by StudentsController#update as JSON
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.1ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 01:01:33.545989"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 12ms (Views: 0.5ms | ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-06 21:01:33 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.0ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-06 21:01:33 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.6ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-06 21:01:33 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x0000000121b50f00>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 01:01:33.571178"], ["updated_at", "2025-04-07 01:01:33.571178"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 1.1ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-06 21:01:33 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 3.4ms | GC: 0.9ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.9ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.9ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 203], ["class_name", "Computer Networks"], ["professor", "Dr. Adams"], ["term", "Spring 2024"], ["credits", 4], ["class_time", "2000-01-01 19:00:00"], ["created_at", "2025-04-07 01:01:33.589596"], ["updated_at", "2025-04-07 01:01:33.589596"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
